{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  exports.createPlayer = createPlayer;\n  exports.updatePlayer = updatePlayer;\n  exports.damagePlayer = damagePlayer;\n  // Player system\n\n  let playerIdCounter = 0;\n  function createPlayer(config) {\n    return {\n      id: `player_${++playerIdCounter}`,\n      position: {\n        x: config.screenWidth / 2,\n        y: 100\n      },\n      velocity: {\n        x: 0,\n        y: 0\n      },\n      radius: 20,\n      active: true,\n      charge: 0,\n      maxCharge: 1,\n      chargeSpeed: 1.5,\n      isCharging: false,\n      phaseActive: false,\n      phaseTimer: 0,\n      phaseDuration: 0.8,\n      hp: 3,\n      maxHp: 3,\n      multiplier: 1,\n      heat: 0,\n      dashPower: 400,\n      magnetRange: 150,\n      invincible: false,\n      invincibleTimer: 0\n    };\n  }\n  function updatePlayer(player, dt, config) {\n    // Auto-scroll upward\n    const baseSpeed = 100;\n    const chargeSlowdown = player.isCharging ? 0.6 : 1;\n    player.velocity.y = baseSpeed * chargeSlowdown;\n\n    // Apply velocity\n    player.position.y += player.velocity.y * dt;\n\n    // Horizontal movement friction\n    player.velocity.x *= 0.95;\n    player.position.x += player.velocity.x * dt;\n\n    // Keep player in bounds horizontally\n    player.position.x = Math.max(player.radius, Math.min(config.screenWidth - player.radius, player.position.x));\n\n    // Update charge\n    if (player.isCharging) {\n      player.charge = Math.min(player.maxCharge, player.charge + player.chargeSpeed * dt);\n    }\n\n    // Update phase timer\n    if (player.phaseActive) {\n      player.phaseTimer -= dt;\n      if (player.phaseTimer <= 0) {\n        player.phaseActive = false;\n      }\n    }\n\n    // Update invincibility\n    if (player.invincible) {\n      player.invincibleTimer -= dt;\n      if (player.invincibleTimer <= 0) {\n        player.invincible = false;\n      }\n    }\n\n    // Reduce heat over time\n    player.heat = Math.max(0, player.heat - 0.1 * dt);\n  }\n  function damagePlayer(player, damage, store) {\n    if (player.invincible) return;\n    player.hp -= damage;\n    player.invincible = true;\n    player.invincibleTimer = 1.5;\n    if (player.hp <= 0) {\n      store.setPhase('ended');\n    }\n  }\n});","lineCount":92,"map":[[7,2,7,0,"exports"],[7,9,7,0],[7,10,7,0,"createPlayer"],[7,22,7,0],[7,25,7,0,"createPlayer"],[7,37,7,0],[8,2,32,0,"exports"],[8,9,32,0],[8,10,32,0,"updatePlayer"],[8,22,32,0],[8,25,32,0,"updatePlayer"],[8,37,32,0],[9,2,73,0,"exports"],[9,9,73,0],[9,10,73,0,"damagePlayer"],[9,22,73,0],[9,25,73,0,"damagePlayer"],[9,37,73,0],[10,2,1,0],[12,2,5,0],[12,6,5,4,"playerIdCounter"],[12,21,5,19],[12,24,5,22],[12,25,5,23],[13,2,7,7],[13,11,7,16,"createPlayer"],[13,23,7,28,"createPlayer"],[13,24,7,29,"config"],[13,30,7,47],[13,32,7,57],[14,4,8,2],[14,11,8,9],[15,6,9,4,"id"],[15,8,9,6],[15,10,9,8],[15,20,9,18],[15,22,9,20,"playerIdCounter"],[15,37,9,35],[15,39,9,37],[16,6,10,4,"position"],[16,14,10,12],[16,16,10,14],[17,8,10,16,"x"],[17,9,10,17],[17,11,10,19,"config"],[17,17,10,25],[17,18,10,26,"screenWidth"],[17,29,10,37],[17,32,10,40],[17,33,10,41],[18,8,10,43,"y"],[18,9,10,44],[18,11,10,46],[19,6,10,50],[19,7,10,51],[20,6,11,4,"velocity"],[20,14,11,12],[20,16,11,14],[21,8,11,16,"x"],[21,9,11,17],[21,11,11,19],[21,12,11,20],[22,8,11,22,"y"],[22,9,11,23],[22,11,11,25],[23,6,11,27],[23,7,11,28],[24,6,12,4,"radius"],[24,12,12,10],[24,14,12,12],[24,16,12,14],[25,6,13,4,"active"],[25,12,13,10],[25,14,13,12],[25,18,13,16],[26,6,14,4,"charge"],[26,12,14,10],[26,14,14,12],[26,15,14,13],[27,6,15,4,"maxCharge"],[27,15,15,13],[27,17,15,15],[27,18,15,16],[28,6,16,4,"chargeSpeed"],[28,17,16,15],[28,19,16,17],[28,22,16,20],[29,6,17,4,"isCharging"],[29,16,17,14],[29,18,17,16],[29,23,17,21],[30,6,18,4,"phaseActive"],[30,17,18,15],[30,19,18,17],[30,24,18,22],[31,6,19,4,"phaseTimer"],[31,16,19,14],[31,18,19,16],[31,19,19,17],[32,6,20,4,"phaseDuration"],[32,19,20,17],[32,21,20,19],[32,24,20,22],[33,6,21,4,"hp"],[33,8,21,6],[33,10,21,8],[33,11,21,9],[34,6,22,4,"maxHp"],[34,11,22,9],[34,13,22,11],[34,14,22,12],[35,6,23,4,"multiplier"],[35,16,23,14],[35,18,23,16],[35,19,23,17],[36,6,24,4,"heat"],[36,10,24,8],[36,12,24,10],[36,13,24,11],[37,6,25,4,"dashPower"],[37,15,25,13],[37,17,25,15],[37,20,25,18],[38,6,26,4,"magnetRange"],[38,17,26,15],[38,19,26,17],[38,22,26,20],[39,6,27,4,"invincible"],[39,16,27,14],[39,18,27,16],[39,23,27,21],[40,6,28,4,"invincibleTimer"],[40,21,28,19],[40,23,28,21],[41,4,29,2],[41,5,29,3],[42,2,30,0],[43,2,32,7],[43,11,32,16,"updatePlayer"],[43,23,32,28,"updatePlayer"],[43,24,32,29,"player"],[43,30,32,43],[43,32,32,45,"dt"],[43,34,32,55],[43,36,32,57,"config"],[43,42,32,75],[43,44,32,77],[44,4,33,2],[45,4,34,2],[45,10,34,8,"baseSpeed"],[45,19,34,17],[45,22,34,20],[45,25,34,23],[46,4,35,2],[46,10,35,8,"chargeSlowdown"],[46,24,35,22],[46,27,35,25,"player"],[46,33,35,31],[46,34,35,32,"isCharging"],[46,44,35,42],[46,47,35,45],[46,50,35,48],[46,53,35,51],[46,54,35,52],[47,4,36,2,"player"],[47,10,36,8],[47,11,36,9,"velocity"],[47,19,36,17],[47,20,36,18,"y"],[47,21,36,19],[47,24,36,22,"baseSpeed"],[47,33,36,31],[47,36,36,34,"chargeSlowdown"],[47,50,36,48],[49,4,38,2],[50,4,39,2,"player"],[50,10,39,8],[50,11,39,9,"position"],[50,19,39,17],[50,20,39,18,"y"],[50,21,39,19],[50,25,39,23,"player"],[50,31,39,29],[50,32,39,30,"velocity"],[50,40,39,38],[50,41,39,39,"y"],[50,42,39,40],[50,45,39,43,"dt"],[50,47,39,45],[52,4,41,2],[53,4,42,2,"player"],[53,10,42,8],[53,11,42,9,"velocity"],[53,19,42,17],[53,20,42,18,"x"],[53,21,42,19],[53,25,42,23],[53,29,42,27],[54,4,43,2,"player"],[54,10,43,8],[54,11,43,9,"position"],[54,19,43,17],[54,20,43,18,"x"],[54,21,43,19],[54,25,43,23,"player"],[54,31,43,29],[54,32,43,30,"velocity"],[54,40,43,38],[54,41,43,39,"x"],[54,42,43,40],[54,45,43,43,"dt"],[54,47,43,45],[56,4,45,2],[57,4,46,2,"player"],[57,10,46,8],[57,11,46,9,"position"],[57,19,46,17],[57,20,46,18,"x"],[57,21,46,19],[57,24,46,22,"Math"],[57,28,46,26],[57,29,46,27,"max"],[57,32,46,30],[57,33,46,31,"player"],[57,39,46,37],[57,40,46,38,"radius"],[57,46,46,44],[57,48,46,46,"Math"],[57,52,46,50],[57,53,46,51,"min"],[57,56,46,54],[57,57,46,55,"config"],[57,63,46,61],[57,64,46,62,"screenWidth"],[57,75,46,73],[57,78,46,76,"player"],[57,84,46,82],[57,85,46,83,"radius"],[57,91,46,89],[57,93,46,91,"player"],[57,99,46,97],[57,100,46,98,"position"],[57,108,46,106],[57,109,46,107,"x"],[57,110,46,108],[57,111,46,109],[57,112,46,110],[59,4,48,2],[60,4,49,2],[60,8,49,6,"player"],[60,14,49,12],[60,15,49,13,"isCharging"],[60,25,49,23],[60,27,49,25],[61,6,50,4,"player"],[61,12,50,10],[61,13,50,11,"charge"],[61,19,50,17],[61,22,50,20,"Math"],[61,26,50,24],[61,27,50,25,"min"],[61,30,50,28],[61,31,50,29,"player"],[61,37,50,35],[61,38,50,36,"maxCharge"],[61,47,50,45],[61,49,50,47,"player"],[61,55,50,53],[61,56,50,54,"charge"],[61,62,50,60],[61,65,50,63,"player"],[61,71,50,69],[61,72,50,70,"chargeSpeed"],[61,83,50,81],[61,86,50,84,"dt"],[61,88,50,86],[61,89,50,87],[62,4,51,2],[64,4,53,2],[65,4,54,2],[65,8,54,6,"player"],[65,14,54,12],[65,15,54,13,"phaseActive"],[65,26,54,24],[65,28,54,26],[66,6,55,4,"player"],[66,12,55,10],[66,13,55,11,"phaseTimer"],[66,23,55,21],[66,27,55,25,"dt"],[66,29,55,27],[67,6,56,4],[67,10,56,8,"player"],[67,16,56,14],[67,17,56,15,"phaseTimer"],[67,27,56,25],[67,31,56,29],[67,32,56,30],[67,34,56,32],[68,8,57,6,"player"],[68,14,57,12],[68,15,57,13,"phaseActive"],[68,26,57,24],[68,29,57,27],[68,34,57,32],[69,6,58,4],[70,4,59,2],[72,4,61,2],[73,4,62,2],[73,8,62,6,"player"],[73,14,62,12],[73,15,62,13,"invincible"],[73,25,62,23],[73,27,62,25],[74,6,63,4,"player"],[74,12,63,10],[74,13,63,11,"invincibleTimer"],[74,28,63,26],[74,32,63,30,"dt"],[74,34,63,32],[75,6,64,4],[75,10,64,8,"player"],[75,16,64,14],[75,17,64,15,"invincibleTimer"],[75,32,64,30],[75,36,64,34],[75,37,64,35],[75,39,64,37],[76,8,65,6,"player"],[76,14,65,12],[76,15,65,13,"invincible"],[76,25,65,23],[76,28,65,26],[76,33,65,31],[77,6,66,4],[78,4,67,2],[80,4,69,2],[81,4,70,2,"player"],[81,10,70,8],[81,11,70,9,"heat"],[81,15,70,13],[81,18,70,16,"Math"],[81,22,70,20],[81,23,70,21,"max"],[81,26,70,24],[81,27,70,25],[81,28,70,26],[81,30,70,28,"player"],[81,36,70,34],[81,37,70,35,"heat"],[81,41,70,39],[81,44,70,42],[81,47,70,45],[81,50,70,48,"dt"],[81,52,70,50],[81,53,70,51],[82,2,71,0],[83,2,73,7],[83,11,73,16,"damagePlayer"],[83,23,73,28,"damagePlayer"],[83,24,73,29,"player"],[83,30,73,43],[83,32,73,45,"damage"],[83,38,73,59],[83,40,73,61,"store"],[83,45,73,71],[83,47,73,73],[84,4,74,2],[84,8,74,6,"player"],[84,14,74,12],[84,15,74,13,"invincible"],[84,25,74,23],[84,27,74,25],[85,4,76,2,"player"],[85,10,76,8],[85,11,76,9,"hp"],[85,13,76,11],[85,17,76,15,"damage"],[85,23,76,21],[86,4,77,2,"player"],[86,10,77,8],[86,11,77,9,"invincible"],[86,21,77,19],[86,24,77,22],[86,28,77,26],[87,4,78,2,"player"],[87,10,78,8],[87,11,78,9,"invincibleTimer"],[87,26,78,24],[87,29,78,27],[87,32,78,30],[88,4,80,2],[88,8,80,6,"player"],[88,14,80,12],[88,15,80,13,"hp"],[88,17,80,15],[88,21,80,19],[88,22,80,20],[88,24,80,22],[89,6,81,4,"store"],[89,11,81,9],[89,12,81,10,"setPhase"],[89,20,81,18],[89,21,81,19],[89,28,81,26],[89,29,81,27],[90,4,82,2],[91,2,83,0],[92,0,83,1],[92,3]],"functionMap":{"names":["<global>","createPlayer","updatePlayer","damagePlayer"],"mappings":"AAA;OCM;CDuB;OEE;CFuC;OGE;CHU"},"hasCjsExports":false},"type":"js/module"}]}