{"dependencies":[{"name":"react","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":2,"column":0,"index":19},"end":{"line":2,"column":53,"index":72}}],"key":"RtGiGa+/H7VrI7GDQDLhO1UbpU8=","exportNames":["*"],"imports":1}},{"name":"../Skia","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":73},"end":{"line":3,"column":31,"index":104}}],"key":"5eRJ3Y/mp/EEiynYa3WwzXcSMXc=","exportNames":["*"],"imports":1}},{"name":"../types","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":105},"end":{"line":4,"column":37,"index":142}}],"key":"SiqkZ9nARqNkdXfcIWbBgsKp5Yo=","exportNames":["*"],"imports":1}},{"name":"../../Platform","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":143},"end":{"line":5,"column":42,"index":185}}],"key":"AXHAxFjlDdeq1JxYZnWn+aHYhYU=","exportNames":["*"],"imports":1}},{"name":"./Typeface","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":186},"end":{"line":6,"column":41,"index":227}}],"key":"T7PcoThZRvZLszyHdGWlQbNTLZw=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useFont\", {\n    enumerable: true,\n    get: function () {\n      return useFont;\n    }\n  });\n  Object.defineProperty(exports, \"matchFont\", {\n    enumerable: true,\n    get: function () {\n      return matchFont;\n    }\n  });\n  Object.defineProperty(exports, \"listFontFamilies\", {\n    enumerable: true,\n    get: function () {\n      return listFontFamilies;\n    }\n  });\n  Object.defineProperty(exports, \"useFonts\", {\n    enumerable: true,\n    get: function () {\n      return useFonts;\n    }\n  });\n  var _react = require(_dependencyMap[0], \"react\");\n  var _Skia = require(_dependencyMap[1], \"../Skia\");\n  var _types = require(_dependencyMap[2], \"../types\");\n  var _Platform = require(_dependencyMap[3], \"../../Platform\");\n  var _Typeface = require(_dependencyMap[4], \"./Typeface\");\n  /*global SkiaApi*/\n\n  const defaultFontSize = 14;\n\n  /**\n   * Returns a Skia Font object\n   * */\n  const useFont = (font, size = defaultFontSize, onError) => {\n    const typeface = (0, _Typeface.useTypeface)(font, onError);\n    return (0, _react.useMemo)(() => {\n      if (typeface) {\n        return _Skia.Skia.Font(typeface, size);\n      } else {\n        return null;\n      }\n    }, [size, typeface]);\n  };\n  const defaultFontStyle = {\n    fontFamily: \"System\",\n    fontSize: defaultFontSize,\n    fontStyle: \"normal\",\n    fontWeight: \"normal\"\n  };\n  const slant = s => {\n    if (s === \"italic\") {\n      return _types.FontSlant.Italic;\n    } else if (s === \"oblique\") {\n      return _types.FontSlant.Oblique;\n    } else {\n      return _types.FontSlant.Upright;\n    }\n  };\n  const weight = fontWeight => {\n    switch (fontWeight) {\n      case \"normal\":\n        return 400;\n      case \"bold\":\n        return 700;\n      default:\n        return parseInt(fontWeight, 10);\n    }\n  };\n  const matchFont = (inputStyle = {}, fontMgr = _Skia.Skia.FontMgr.System()) => {\n    const fontStyle = {\n      ...defaultFontStyle,\n      ...inputStyle\n    };\n    const style = {\n      weight: weight(fontStyle.fontWeight),\n      width: 5,\n      slant: slant(fontStyle.fontStyle)\n    };\n    const typeface = fontMgr.matchFamilyStyle(fontStyle.fontFamily, style);\n    return _Skia.Skia.Font(typeface, fontStyle.fontSize);\n  };\n  const listFontFamilies = (fontMgr = _Skia.Skia.FontMgr.System()) => {\n    const families = new Set();\n    for (let i = 0; i < fontMgr.countFamilies(); i++) {\n      families.add(fontMgr.getFamilyName(i));\n    }\n    return Array.from(families);\n  };\n  const loadTypefaces = typefacesToLoad => {\n    const promises = Object.keys(typefacesToLoad).flatMap(familyName => {\n      return typefacesToLoad[familyName].map(typefaceToLoad => {\n        return _Skia.Skia.Data.fromURI(_Platform.Platform.resolveAsset(typefaceToLoad)).then(data => {\n          const tf = _Skia.Skia.Typeface.MakeFreeTypeFaceFromData(data);\n          if (tf === null) {\n            throw new Error(`Couldn't create typeface for ${familyName}`);\n          }\n          return [familyName, tf];\n        });\n      });\n    });\n    return Promise.all(promises);\n  };\n  const useFonts = sources => {\n    const [fontMgr, setFontMgr] = (0, _react.useState)(null);\n    (0, _react.useEffect)(() => {\n      loadTypefaces(sources).then(result => {\n        const fMgr = _Skia.Skia.TypefaceFontProvider.Make();\n        result.forEach(([familyName, typeface]) => {\n          fMgr.registerFont(typeface, familyName);\n        });\n        setFontMgr(fMgr);\n      });\n      // eslint-disable-next-line react-hooks/exhaustive-deps\n    }, []);\n    return fontMgr;\n  };\n});","lineCount":126,"map":[[7,2,12,0,"Object"],[7,8,12,0],[7,9,12,0,"defineProperty"],[7,23,12,0],[7,24,12,0,"exports"],[7,31,12,0],[8,4,12,0,"enumerable"],[8,14,12,0],[9,4,12,0,"get"],[9,7,12,0],[9,18,12,0,"get"],[9,19,12,0],[10,6,12,0],[10,13,12,0,"useFont"],[10,20,12,0],[11,4,12,0],[12,2,12,0],[13,2,47,0,"Object"],[13,8,47,0],[13,9,47,0,"defineProperty"],[13,23,47,0],[13,24,47,0,"exports"],[13,31,47,0],[14,4,47,0,"enumerable"],[14,14,47,0],[15,4,47,0,"get"],[15,7,47,0],[15,18,47,0,"get"],[15,19,47,0],[16,6,47,0],[16,13,47,0,"matchFont"],[16,22,47,0],[17,4,47,0],[18,2,47,0],[19,2,60,0,"Object"],[19,8,60,0],[19,9,60,0,"defineProperty"],[19,23,60,0],[19,24,60,0,"exports"],[19,31,60,0],[20,4,60,0,"enumerable"],[20,14,60,0],[21,4,60,0,"get"],[21,7,60,0],[21,18,60,0,"get"],[21,19,60,0],[22,6,60,0],[22,13,60,0,"listFontFamilies"],[22,29,60,0],[23,4,60,0],[24,2,60,0],[25,2,81,0,"Object"],[25,8,81,0],[25,9,81,0,"defineProperty"],[25,23,81,0],[25,24,81,0,"exports"],[25,31,81,0],[26,4,81,0,"enumerable"],[26,14,81,0],[27,4,81,0,"get"],[27,7,81,0],[27,18,81,0,"get"],[27,19,81,0],[28,6,81,0],[28,13,81,0,"useFonts"],[28,21,81,0],[29,4,81,0],[30,2,81,0],[31,2,2,0],[31,6,2,0,"_react"],[31,12,2,0],[31,15,2,0,"require"],[31,22,2,0],[31,23,2,0,"_dependencyMap"],[31,37,2,0],[32,2,3,0],[32,6,3,0,"_Skia"],[32,11,3,0],[32,14,3,0,"require"],[32,21,3,0],[32,22,3,0,"_dependencyMap"],[32,36,3,0],[33,2,4,0],[33,6,4,0,"_types"],[33,12,4,0],[33,15,4,0,"require"],[33,22,4,0],[33,23,4,0,"_dependencyMap"],[33,37,4,0],[34,2,5,0],[34,6,5,0,"_Platform"],[34,15,5,0],[34,18,5,0,"require"],[34,25,5,0],[34,26,5,0,"_dependencyMap"],[34,40,5,0],[35,2,6,0],[35,6,6,0,"_Typeface"],[35,15,6,0],[35,18,6,0,"require"],[35,25,6,0],[35,26,6,0,"_dependencyMap"],[35,40,6,0],[36,2,1,0],[38,2,7,0],[38,8,7,6,"defaultFontSize"],[38,23,7,21],[38,26,7,24],[38,28,7,26],[40,2,9,0],[41,0,10,0],[42,0,11,0],[43,2,12,7],[43,8,12,13,"useFont"],[43,15,12,20],[43,18,12,23,"useFont"],[43,19,12,24,"font"],[43,23,12,28],[43,25,12,30,"size"],[43,29,12,34],[43,32,12,37,"defaultFontSize"],[43,47,12,52],[43,49,12,54,"onError"],[43,56,12,61],[43,61,12,66],[44,4,13,2],[44,10,13,8,"typeface"],[44,18,13,16],[44,21,13,19],[44,25,13,19,"useTypeface"],[44,34,13,30],[44,35,13,30,"useTypeface"],[44,46,13,30],[44,48,13,31,"font"],[44,52,13,35],[44,54,13,37,"onError"],[44,61,13,44],[44,62,13,45],[45,4,14,2],[45,11,14,9],[45,15,14,9,"useMemo"],[45,21,14,16],[45,22,14,16,"useMemo"],[45,29,14,16],[45,31,14,17],[45,37,14,23],[46,6,15,4],[46,10,15,8,"typeface"],[46,18,15,16],[46,20,15,18],[47,8,16,6],[47,15,16,13,"Skia"],[47,20,16,17],[47,21,16,17,"Skia"],[47,25,16,17],[47,26,16,18,"Font"],[47,30,16,22],[47,31,16,23,"typeface"],[47,39,16,31],[47,41,16,33,"size"],[47,45,16,37],[47,46,16,38],[48,6,17,4],[48,7,17,5],[48,13,17,11],[49,8,18,6],[49,15,18,13],[49,19,18,17],[50,6,19,4],[51,4,20,2],[51,5,20,3],[51,7,20,5],[51,8,20,6,"size"],[51,12,20,10],[51,14,20,12,"typeface"],[51,22,20,20],[51,23,20,21],[51,24,20,22],[52,2,21,0],[52,3,21,1],[53,2,22,0],[53,8,22,6,"defaultFontStyle"],[53,24,22,22],[53,27,22,25],[54,4,23,2,"fontFamily"],[54,14,23,12],[54,16,23,14],[54,24,23,22],[55,4,24,2,"fontSize"],[55,12,24,10],[55,14,24,12,"defaultFontSize"],[55,29,24,27],[56,4,25,2,"fontStyle"],[56,13,25,11],[56,15,25,13],[56,23,25,21],[57,4,26,2,"fontWeight"],[57,14,26,12],[57,16,26,14],[58,2,27,0],[58,3,27,1],[59,2,28,0],[59,8,28,6,"slant"],[59,13,28,11],[59,16,28,14,"s"],[59,17,28,15],[59,21,28,19],[60,4,29,2],[60,8,29,6,"s"],[60,9,29,7],[60,14,29,12],[60,22,29,20],[60,24,29,22],[61,6,30,4],[61,13,30,11,"FontSlant"],[61,19,30,20],[61,20,30,20,"FontSlant"],[61,29,30,20],[61,30,30,21,"Italic"],[61,36,30,27],[62,4,31,2],[62,5,31,3],[62,11,31,9],[62,15,31,13,"s"],[62,16,31,14],[62,21,31,19],[62,30,31,28],[62,32,31,30],[63,6,32,4],[63,13,32,11,"FontSlant"],[63,19,32,20],[63,20,32,20,"FontSlant"],[63,29,32,20],[63,30,32,21,"Oblique"],[63,37,32,28],[64,4,33,2],[64,5,33,3],[64,11,33,9],[65,6,34,4],[65,13,34,11,"FontSlant"],[65,19,34,20],[65,20,34,20,"FontSlant"],[65,29,34,20],[65,30,34,21,"Upright"],[65,37,34,28],[66,4,35,2],[67,2,36,0],[67,3,36,1],[68,2,37,0],[68,8,37,6,"weight"],[68,14,37,12],[68,17,37,15,"fontWeight"],[68,27,37,25],[68,31,37,29],[69,4,38,2],[69,12,38,10,"fontWeight"],[69,22,38,20],[70,6,39,4],[70,11,39,9],[70,19,39,17],[71,8,40,6],[71,15,40,13],[71,18,40,16],[72,6,41,4],[72,11,41,9],[72,17,41,15],[73,8,42,6],[73,15,42,13],[73,18,42,16],[74,6,43,4],[75,8,44,6],[75,15,44,13,"parseInt"],[75,23,44,21],[75,24,44,22,"fontWeight"],[75,34,44,32],[75,36,44,34],[75,38,44,36],[75,39,44,37],[76,4,45,2],[77,2,46,0],[77,3,46,1],[78,2,47,7],[78,8,47,13,"matchFont"],[78,17,47,22],[78,20,47,25,"matchFont"],[78,21,47,26,"inputStyle"],[78,31,47,36],[78,34,47,39],[78,35,47,40],[78,36,47,41],[78,38,47,43,"fontMgr"],[78,45,47,50],[78,48,47,53,"Skia"],[78,53,47,57],[78,54,47,57,"Skia"],[78,58,47,57],[78,59,47,58,"FontMgr"],[78,66,47,65],[78,67,47,66,"System"],[78,73,47,72],[78,74,47,73],[78,75,47,74],[78,80,47,79],[79,4,48,2],[79,10,48,8,"fontStyle"],[79,19,48,17],[79,22,48,20],[80,6,49,4],[80,9,49,7,"defaultFontStyle"],[80,25,49,23],[81,6,50,4],[81,9,50,7,"inputStyle"],[82,4,51,2],[82,5,51,3],[83,4,52,2],[83,10,52,8,"style"],[83,15,52,13],[83,18,52,16],[84,6,53,4,"weight"],[84,12,53,10],[84,14,53,12,"weight"],[84,20,53,18],[84,21,53,19,"fontStyle"],[84,30,53,28],[84,31,53,29,"fontWeight"],[84,41,53,39],[84,42,53,40],[85,6,54,4,"width"],[85,11,54,9],[85,13,54,11],[85,14,54,12],[86,6,55,4,"slant"],[86,11,55,9],[86,13,55,11,"slant"],[86,18,55,16],[86,19,55,17,"fontStyle"],[86,28,55,26],[86,29,55,27,"fontStyle"],[86,38,55,36],[87,4,56,2],[87,5,56,3],[88,4,57,2],[88,10,57,8,"typeface"],[88,18,57,16],[88,21,57,19,"fontMgr"],[88,28,57,26],[88,29,57,27,"matchFamilyStyle"],[88,45,57,43],[88,46,57,44,"fontStyle"],[88,55,57,53],[88,56,57,54,"fontFamily"],[88,66,57,64],[88,68,57,66,"style"],[88,73,57,71],[88,74,57,72],[89,4,58,2],[89,11,58,9,"Skia"],[89,16,58,13],[89,17,58,13,"Skia"],[89,21,58,13],[89,22,58,14,"Font"],[89,26,58,18],[89,27,58,19,"typeface"],[89,35,58,27],[89,37,58,29,"fontStyle"],[89,46,58,38],[89,47,58,39,"fontSize"],[89,55,58,47],[89,56,58,48],[90,2,59,0],[90,3,59,1],[91,2,60,7],[91,8,60,13,"listFontFamilies"],[91,24,60,29],[91,27,60,32,"listFontFamilies"],[91,28,60,33,"fontMgr"],[91,35,60,40],[91,38,60,43,"Skia"],[91,43,60,47],[91,44,60,47,"Skia"],[91,48,60,47],[91,49,60,48,"FontMgr"],[91,56,60,55],[91,57,60,56,"System"],[91,63,60,62],[91,64,60,63],[91,65,60,64],[91,70,60,69],[92,4,61,2],[92,10,61,8,"families"],[92,18,61,16],[92,21,61,19],[92,25,61,23,"Set"],[92,28,61,26],[92,29,61,27],[92,30,61,28],[93,4,62,2],[93,9,62,7],[93,13,62,11,"i"],[93,14,62,12],[93,17,62,15],[93,18,62,16],[93,20,62,18,"i"],[93,21,62,19],[93,24,62,22,"fontMgr"],[93,31,62,29],[93,32,62,30,"countFamilies"],[93,45,62,43],[93,46,62,44],[93,47,62,45],[93,49,62,47,"i"],[93,50,62,48],[93,52,62,50],[93,54,62,52],[94,6,63,4,"families"],[94,14,63,12],[94,15,63,13,"add"],[94,18,63,16],[94,19,63,17,"fontMgr"],[94,26,63,24],[94,27,63,25,"getFamilyName"],[94,40,63,38],[94,41,63,39,"i"],[94,42,63,40],[94,43,63,41],[94,44,63,42],[95,4,64,2],[96,4,65,2],[96,11,65,9,"Array"],[96,16,65,14],[96,17,65,15,"from"],[96,21,65,19],[96,22,65,20,"families"],[96,30,65,28],[96,31,65,29],[97,2,66,0],[97,3,66,1],[98,2,67,0],[98,8,67,6,"loadTypefaces"],[98,21,67,19],[98,24,67,22,"typefacesToLoad"],[98,39,67,37],[98,43,67,41],[99,4,68,2],[99,10,68,8,"promises"],[99,18,68,16],[99,21,68,19,"Object"],[99,27,68,25],[99,28,68,26,"keys"],[99,32,68,30],[99,33,68,31,"typefacesToLoad"],[99,48,68,46],[99,49,68,47],[99,50,68,48,"flatMap"],[99,57,68,55],[99,58,68,56,"familyName"],[99,68,68,66],[99,72,68,70],[100,6,69,4],[100,13,69,11,"typefacesToLoad"],[100,28,69,26],[100,29,69,27,"familyName"],[100,39,69,37],[100,40,69,38],[100,41,69,39,"map"],[100,44,69,42],[100,45,69,43,"typefaceToLoad"],[100,59,69,57],[100,63,69,61],[101,8,70,6],[101,15,70,13,"Skia"],[101,20,70,17],[101,21,70,17,"Skia"],[101,25,70,17],[101,26,70,18,"Data"],[101,30,70,22],[101,31,70,23,"fromURI"],[101,38,70,30],[101,39,70,31,"Platform"],[101,48,70,39],[101,49,70,39,"Platform"],[101,57,70,39],[101,58,70,40,"resolveAsset"],[101,70,70,52],[101,71,70,53,"typefaceToLoad"],[101,85,70,67],[101,86,70,68],[101,87,70,69],[101,88,70,70,"then"],[101,92,70,74],[101,93,70,75,"data"],[101,97,70,79],[101,101,70,83],[102,10,71,8],[102,16,71,14,"tf"],[102,18,71,16],[102,21,71,19,"Skia"],[102,26,71,23],[102,27,71,23,"Skia"],[102,31,71,23],[102,32,71,24,"Typeface"],[102,40,71,32],[102,41,71,33,"MakeFreeTypeFaceFromData"],[102,65,71,57],[102,66,71,58,"data"],[102,70,71,62],[102,71,71,63],[103,10,72,8],[103,14,72,12,"tf"],[103,16,72,14],[103,21,72,19],[103,25,72,23],[103,27,72,25],[104,12,73,10],[104,18,73,16],[104,22,73,20,"Error"],[104,27,73,25],[104,28,73,26],[104,60,73,58,"familyName"],[104,70,73,68],[104,72,73,70],[104,73,73,71],[105,10,74,8],[106,10,75,8],[106,17,75,15],[106,18,75,16,"familyName"],[106,28,75,26],[106,30,75,28,"tf"],[106,32,75,30],[106,33,75,31],[107,8,76,6],[107,9,76,7],[107,10,76,8],[108,6,77,4],[108,7,77,5],[108,8,77,6],[109,4,78,2],[109,5,78,3],[109,6,78,4],[110,4,79,2],[110,11,79,9,"Promise"],[110,18,79,16],[110,19,79,17,"all"],[110,22,79,20],[110,23,79,21,"promises"],[110,31,79,29],[110,32,79,30],[111,2,80,0],[111,3,80,1],[112,2,81,7],[112,8,81,13,"useFonts"],[112,16,81,21],[112,19,81,24,"sources"],[112,26,81,31],[112,30,81,35],[113,4,82,2],[113,10,82,8],[113,11,82,9,"fontMgr"],[113,18,82,16],[113,20,82,18,"setFontMgr"],[113,30,82,28],[113,31,82,29],[113,34,82,32],[113,38,82,32,"useState"],[113,44,82,40],[113,45,82,40,"useState"],[113,53,82,40],[113,55,82,41],[113,59,82,45],[113,60,82,46],[114,4,83,2],[114,8,83,2,"useEffect"],[114,14,83,11],[114,15,83,11,"useEffect"],[114,24,83,11],[114,26,83,12],[114,32,83,18],[115,6,84,4,"loadTypefaces"],[115,19,84,17],[115,20,84,18,"sources"],[115,27,84,25],[115,28,84,26],[115,29,84,27,"then"],[115,33,84,31],[115,34,84,32,"result"],[115,40,84,38],[115,44,84,42],[116,8,85,6],[116,14,85,12,"fMgr"],[116,18,85,16],[116,21,85,19,"Skia"],[116,26,85,23],[116,27,85,23,"Skia"],[116,31,85,23],[116,32,85,24,"TypefaceFontProvider"],[116,52,85,44],[116,53,85,45,"Make"],[116,57,85,49],[116,58,85,50],[116,59,85,51],[117,8,86,6,"result"],[117,14,86,12],[117,15,86,13,"forEach"],[117,22,86,20],[117,23,86,21],[117,24,86,22],[117,25,86,23,"familyName"],[117,35,86,33],[117,37,86,35,"typeface"],[117,45,86,43],[117,46,86,44],[117,51,86,49],[118,10,87,8,"fMgr"],[118,14,87,12],[118,15,87,13,"registerFont"],[118,27,87,25],[118,28,87,26,"typeface"],[118,36,87,34],[118,38,87,36,"familyName"],[118,48,87,46],[118,49,87,47],[119,8,88,6],[119,9,88,7],[119,10,88,8],[120,8,89,6,"setFontMgr"],[120,18,89,16],[120,19,89,17,"fMgr"],[120,23,89,21],[120,24,89,22],[121,6,90,4],[121,7,90,5],[121,8,90,6],[122,6,91,4],[123,4,92,2],[123,5,92,3],[123,7,92,5],[123,9,92,7],[123,10,92,8],[124,4,93,2],[124,11,93,9,"fontMgr"],[124,18,93,16],[125,2,94,0],[125,3,94,1],[126,0,94,2],[126,3]],"functionMap":{"names":["<global>","useFont","useMemo$argument_0","slant","weight","matchFont","listFontFamilies","loadTypefaces","Object.keys.flatMap$argument_0","typefacesToLoad.familyName.map$argument_0","Skia.Data.fromURI.then$argument_0","useFonts","useEffect$argument_0","loadTypefaces.then$argument_0","result.forEach$argument_0"],"mappings":"AAA;uBCW;iBCE;GDM;CDC;cGO;CHQ;eIC;CJS;yBKC;CLY;gCMC;CNM;sBOC;wDCC;2CCC;2ECC;ODM;KDC;GDC;CPE;wBWC;YCE;gCCC;qBCE;ODE;KDE;GDE;CXE"},"hasCjsExports":false},"type":"js/module"}]}