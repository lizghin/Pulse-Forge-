{"dependencies":[{"name":"zustand","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":3,"column":0,"index":35},"end":{"line":3,"column":33,"index":68}}],"key":"POPvx7yS3Y3wz+S/9OAefiXNs0Q=","exportNames":["*"],"imports":1}},{"name":"./data/upgrades","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":115},"end":{"line":5,"column":43,"index":158}}],"key":"Djy1T0xA07qkqdtmWIV0fYOKWGQ=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"useGameStore\", {\n    enumerable: true,\n    get: function () {\n      return useGameStore;\n    }\n  });\n  var _zustand = require(_dependencyMap[0], \"zustand\");\n  var _dataUpgrades = require(_dependencyMap[1], \"./data/upgrades\");\n  // Game state store using Zustand\n\n  const INITIAL_STATE = {\n    phase: 'menu',\n    timer: 90,\n    maxTime: 90,\n    score: 0,\n    shards: 0,\n    perfectPulses: 0,\n    distance: 0,\n    difficulty: 1,\n    upgradeChoices: [],\n    selectedUpgrades: [],\n    lastUpgradeTime: 0,\n    upgradeInterval: 15\n  };\n  const useGameStore = (0, _zustand.create)((set, get) => ({\n    ...INITIAL_STATE,\n    setPhase: phase => set({\n      phase\n    }),\n    setTimer: timer => set({\n      timer\n    }),\n    setDifficulty: difficulty => set({\n      difficulty\n    }),\n    addScore: points => set(state => ({\n      score: state.score + Math.floor(points)\n    })),\n    addShards: amount => set(state => ({\n      shards: state.shards + amount\n    })),\n    addDistance: dist => set(state => ({\n      distance: state.distance + dist\n    })),\n    addPerfectPulse: () => set(state => ({\n      perfectPulses: state.perfectPulses + 1\n    })),\n    triggerUpgradeChoice: () => {\n      const state = get();\n      // Pick 3 random upgrades\n      const available = _dataUpgrades.UPGRADES.filter(u => !state.selectedUpgrades.find(s => s.id === u.id));\n      const shuffled = [...available].sort(() => Math.random() - 0.5);\n      const choices = shuffled.slice(0, 3);\n      set({\n        phase: 'upgrade',\n        upgradeChoices: choices,\n        lastUpgradeTime: state.maxTime - state.timer\n      });\n    },\n    selectUpgrade: upgrade => {\n      set(state => ({\n        phase: 'playing',\n        selectedUpgrades: [...state.selectedUpgrades, upgrade],\n        upgradeChoices: []\n      }));\n    },\n    startGame: () => set({\n      ...INITIAL_STATE,\n      phase: 'countdown'\n    }),\n    resetGame: () => set(INITIAL_STATE),\n    setMultiplier: mult => set({\n      multiplier: mult\n    })\n  }));\n});","lineCount":82,"map":[[7,2,46,0,"Object"],[7,8,46,0],[7,9,46,0,"defineProperty"],[7,23,46,0],[7,24,46,0,"exports"],[7,31,46,0],[8,4,46,0,"enumerable"],[8,14,46,0],[9,4,46,0,"get"],[9,7,46,0],[9,18,46,0,"get"],[9,19,46,0],[10,6,46,0],[10,13,46,0,"useGameStore"],[10,25,46,0],[11,4,46,0],[12,2,46,0],[13,2,3,0],[13,6,3,0,"_zustand"],[13,14,3,0],[13,17,3,0,"require"],[13,24,3,0],[13,25,3,0,"_dependencyMap"],[13,39,3,0],[14,2,5,0],[14,6,5,0,"_dataUpgrades"],[14,19,5,0],[14,22,5,0,"require"],[14,29,5,0],[14,30,5,0,"_dependencyMap"],[14,44,5,0],[15,2,1,0],[17,2,31,0],[17,8,31,6,"INITIAL_STATE"],[17,21,31,30],[17,24,31,33],[18,4,32,2,"phase"],[18,9,32,7],[18,11,32,9],[18,17,32,15],[19,4,33,2,"timer"],[19,9,33,7],[19,11,33,9],[19,13,33,11],[20,4,34,2,"maxTime"],[20,11,34,9],[20,13,34,11],[20,15,34,13],[21,4,35,2,"score"],[21,9,35,7],[21,11,35,9],[21,12,35,10],[22,4,36,2,"shards"],[22,10,36,8],[22,12,36,10],[22,13,36,11],[23,4,37,2,"perfectPulses"],[23,17,37,15],[23,19,37,17],[23,20,37,18],[24,4,38,2,"distance"],[24,12,38,10],[24,14,38,12],[24,15,38,13],[25,4,39,2,"difficulty"],[25,14,39,12],[25,16,39,14],[25,17,39,15],[26,4,40,2,"upgradeChoices"],[26,18,40,16],[26,20,40,18],[26,22,40,20],[27,4,41,2,"selectedUpgrades"],[27,20,41,18],[27,22,41,20],[27,24,41,22],[28,4,42,2,"lastUpgradeTime"],[28,19,42,17],[28,21,42,19],[28,22,42,20],[29,4,43,2,"upgradeInterval"],[29,19,43,17],[29,21,43,19],[30,2,44,0],[30,3,44,1],[31,2,46,7],[31,8,46,13,"useGameStore"],[31,20,46,25],[31,23,46,28],[31,27,46,28,"create"],[31,35,46,34],[31,36,46,34,"create"],[31,42,46,34],[31,44,46,46],[31,45,46,47,"set"],[31,48,46,50],[31,50,46,52,"get"],[31,53,46,55],[31,59,46,61],[32,4,47,2],[32,7,47,5,"INITIAL_STATE"],[32,20,47,18],[33,4,49,2,"setPhase"],[33,12,49,10],[33,14,49,13,"phase"],[33,19,49,18],[33,23,49,23,"set"],[33,26,49,26],[33,27,49,27],[34,6,49,29,"phase"],[35,4,49,35],[35,5,49,36],[35,6,49,37],[36,4,50,2,"setTimer"],[36,12,50,10],[36,14,50,13,"timer"],[36,19,50,18],[36,23,50,23,"set"],[36,26,50,26],[36,27,50,27],[37,6,50,29,"timer"],[38,4,50,35],[38,5,50,36],[38,6,50,37],[39,4,51,2,"setDifficulty"],[39,17,51,15],[39,19,51,18,"difficulty"],[39,29,51,28],[39,33,51,33,"set"],[39,36,51,36],[39,37,51,37],[40,6,51,39,"difficulty"],[41,4,51,50],[41,5,51,51],[41,6,51,52],[42,4,53,2,"addScore"],[42,12,53,10],[42,14,53,13,"points"],[42,20,53,19],[42,24,53,24,"set"],[42,27,53,27],[42,28,53,29,"state"],[42,33,53,34],[42,38,53,40],[43,6,53,42,"score"],[43,11,53,47],[43,13,53,49,"state"],[43,18,53,54],[43,19,53,55,"score"],[43,24,53,60],[43,27,53,63,"Math"],[43,31,53,67],[43,32,53,68,"floor"],[43,37,53,73],[43,38,53,74,"points"],[43,44,53,80],[44,4,53,82],[44,5,53,83],[44,6,53,84],[44,7,53,85],[45,4,54,2,"addShards"],[45,13,54,11],[45,15,54,14,"amount"],[45,21,54,20],[45,25,54,25,"set"],[45,28,54,28],[45,29,54,30,"state"],[45,34,54,35],[45,39,54,41],[46,6,54,43,"shards"],[46,12,54,49],[46,14,54,51,"state"],[46,19,54,56],[46,20,54,57,"shards"],[46,26,54,63],[46,29,54,66,"amount"],[47,4,54,73],[47,5,54,74],[47,6,54,75],[47,7,54,76],[48,4,55,2,"addDistance"],[48,15,55,13],[48,17,55,16,"dist"],[48,21,55,20],[48,25,55,25,"set"],[48,28,55,28],[48,29,55,30,"state"],[48,34,55,35],[48,39,55,41],[49,6,55,43,"distance"],[49,14,55,51],[49,16,55,53,"state"],[49,21,55,58],[49,22,55,59,"distance"],[49,30,55,67],[49,33,55,70,"dist"],[50,4,55,75],[50,5,55,76],[50,6,55,77],[50,7,55,78],[51,4,56,2,"addPerfectPulse"],[51,19,56,17],[51,21,56,19,"addPerfectPulse"],[51,22,56,19],[51,27,56,25,"set"],[51,30,56,28],[51,31,56,30,"state"],[51,36,56,35],[51,41,56,41],[52,6,56,43,"perfectPulses"],[52,19,56,56],[52,21,56,58,"state"],[52,26,56,63],[52,27,56,64,"perfectPulses"],[52,40,56,77],[52,43,56,80],[53,4,56,82],[53,5,56,83],[53,6,56,84],[53,7,56,85],[54,4,58,2,"triggerUpgradeChoice"],[54,24,58,22],[54,26,58,24,"triggerUpgradeChoice"],[54,27,58,24],[54,32,58,30],[55,6,59,4],[55,12,59,10,"state"],[55,17,59,15],[55,20,59,18,"get"],[55,23,59,21],[55,24,59,22],[55,25,59,23],[56,6,60,4],[57,6,61,4],[57,12,61,10,"available"],[57,21,61,19],[57,24,61,22,"UPGRADES"],[57,37,61,30],[57,38,61,30,"UPGRADES"],[57,46,61,30],[57,47,61,31,"filter"],[57,53,61,37],[57,54,62,7,"u"],[57,55,62,8],[57,59,62,13],[57,60,62,14,"state"],[57,65,62,19],[57,66,62,20,"selectedUpgrades"],[57,82,62,36],[57,83,62,37,"find"],[57,87,62,41],[57,88,62,43,"s"],[57,89,62,44],[57,93,62,49,"s"],[57,94,62,50],[57,95,62,51,"id"],[57,97,62,53],[57,102,62,58,"u"],[57,103,62,59],[57,104,62,60,"id"],[57,106,62,62],[57,107,63,4],[57,108,63,5],[58,6,64,4],[58,12,64,10,"shuffled"],[58,20,64,18],[58,23,64,21],[58,24,64,22],[58,27,64,25,"available"],[58,36,64,34],[58,37,64,35],[58,38,64,36,"sort"],[58,42,64,40],[58,43,64,41],[58,49,64,47,"Math"],[58,53,64,51],[58,54,64,52,"random"],[58,60,64,58],[58,61,64,59],[58,62,64,60],[58,65,64,63],[58,68,64,66],[58,69,64,67],[59,6,65,4],[59,12,65,10,"choices"],[59,19,65,17],[59,22,65,20,"shuffled"],[59,30,65,28],[59,31,65,29,"slice"],[59,36,65,34],[59,37,65,35],[59,38,65,36],[59,40,65,38],[59,41,65,39],[59,42,65,40],[60,6,67,4,"set"],[60,9,67,7],[60,10,67,8],[61,8,68,6,"phase"],[61,13,68,11],[61,15,68,13],[61,24,68,22],[62,8,69,6,"upgradeChoices"],[62,22,69,20],[62,24,69,22,"choices"],[62,31,69,29],[63,8,70,6,"lastUpgradeTime"],[63,23,70,21],[63,25,70,23,"state"],[63,30,70,28],[63,31,70,29,"maxTime"],[63,38,70,36],[63,41,70,39,"state"],[63,46,70,44],[63,47,70,45,"timer"],[64,6,71,4],[64,7,71,5],[64,8,71,6],[65,4,72,2],[65,5,72,3],[66,4,74,2,"selectUpgrade"],[66,17,74,15],[66,19,74,18,"upgrade"],[66,26,74,25],[66,30,74,30],[67,6,75,4,"set"],[67,9,75,7],[67,10,75,9,"state"],[67,15,75,14],[67,20,75,20],[68,8,76,6,"phase"],[68,13,76,11],[68,15,76,13],[68,24,76,22],[69,8,77,6,"selectedUpgrades"],[69,24,77,22],[69,26,77,24],[69,27,77,25],[69,30,77,28,"state"],[69,35,77,33],[69,36,77,34,"selectedUpgrades"],[69,52,77,50],[69,54,77,52,"upgrade"],[69,61,77,59],[69,62,77,60],[70,8,78,6,"upgradeChoices"],[70,22,78,20],[70,24,78,22],[71,6,79,4],[71,7,79,5],[71,8,79,6],[71,9,79,7],[72,4,80,2],[72,5,80,3],[73,4,82,2,"startGame"],[73,13,82,11],[73,15,82,13,"startGame"],[73,16,82,13],[73,21,82,19,"set"],[73,24,82,22],[73,25,82,23],[74,6,83,4],[74,9,83,7,"INITIAL_STATE"],[74,22,83,20],[75,6,84,4,"phase"],[75,11,84,9],[75,13,84,11],[76,4,85,2],[76,5,85,3],[76,6,85,4],[77,4,87,2,"resetGame"],[77,13,87,11],[77,15,87,13,"resetGame"],[77,16,87,13],[77,21,87,19,"set"],[77,24,87,22],[77,25,87,23,"INITIAL_STATE"],[77,38,87,36],[77,39,87,37],[78,4,89,2,"setMultiplier"],[78,17,89,15],[78,19,89,18,"mult"],[78,23,89,22],[78,27,89,27,"set"],[78,30,89,30],[78,31,89,31],[79,6,89,33,"multiplier"],[79,16,89,43],[79,18,89,45,"mult"],[80,4,89,50],[80,5,89,58],[81,2,90,0],[81,3,90,1],[81,4,90,2],[81,5,90,3],[82,0,90,4],[82,3]],"functionMap":{"names":["<global>","create$argument_0","setPhase","setTimer","setDifficulty","addScore","set$argument_0","addShards","addDistance","addPerfectPulse","triggerUpgradeChoice","UPGRADES.filter$argument_0","state.selectedUpgrades.find$argument_0","sort$argument_0","selectUpgrade","startGame","resetGame","setMultiplier"],"mappings":"AAA;8CC6C;YCG,yBD;YEC,yBF;iBGC,mCH;YIE,gBC,wDD,CJ;aMC,gBD,8CC,CN;eOC,cF,gDE,CP;mBQC,UH,uDG,CR;wBSE;MCI,oCC,oBD,CD;yCGE,yBH;GTQ;iBaE;QRC;MQI;GbC;acE;IdG;aeE,wBf;iBgBE,0ChB;EDC"},"hasCjsExports":false},"type":"js/module"}]}