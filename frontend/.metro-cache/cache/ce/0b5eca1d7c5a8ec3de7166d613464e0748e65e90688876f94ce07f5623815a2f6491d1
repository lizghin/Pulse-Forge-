{"dependencies":[{"name":"./systems/player","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":122},"end":{"line":4,"column":62,"index":184}}],"key":"uNlH5SYFcwF3aKh99qGiReqDl0g=","exportNames":["*"],"imports":1}},{"name":"./systems/pickups","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":185},"end":{"line":5,"column":86,"index":271}}],"key":"2uxaPaniyVzDVy0JMQz8ZMRXHNs=","exportNames":["*"],"imports":1}},{"name":"./systems/hazards","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":272},"end":{"line":6,"column":87,"index":359}}],"key":"Kh7TX8nNcNdtGRnghg2A4b5Bh20=","exportNames":["*"],"imports":1}},{"name":"./store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":360},"end":{"line":7,"column":39,"index":399}}],"key":"5APpJpQn7z9vMHIr4H9Bv6aaMsY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"DEFAULT_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"GameEngine\", {\n    enumerable: true,\n    get: function () {\n      return GameEngine;\n    }\n  });\n  var _systemsPlayer = require(_dependencyMap[0], \"./systems/player\");\n  var _systemsPickups = require(_dependencyMap[1], \"./systems/pickups\");\n  var _systemsHazards = require(_dependencyMap[2], \"./systems/hazards\");\n  var _store = require(_dependencyMap[3], \"./store\");\n  // Game engine - fixed timestep loop with Mastery tracking\n\n  const DEFAULT_CONFIG = {\n    screenWidth: 390,\n    screenHeight: 844,\n    worldWidth: 390,\n    worldHeight: 2000,\n    targetFPS: 60,\n    fixedDeltaTime: 1000 / 60\n  };\n\n  // Rhythm timing window (seconds between pulses for streak)\n  const RHYTHM_WINDOW_MIN = 0.8;\n  const RHYTHM_WINDOW_MAX = 1.5;\n  class GameEngine {\n    lastTime = 0;\n    accumulator = 0;\n    animationFrameId = null;\n    running = false;\n    pickups = [];\n    hazards = [];\n    cameraY = 0;\n\n    // Mastery tracking\n    lastPulseTime = 0;\n    constructor(config = {}) {\n      this.config = Object.assign({}, DEFAULT_CONFIG, config);\n      this.player = (0, _systemsPlayer.createPlayer)(this.config);\n    }\n    start() {\n      this.running = true;\n      this.lastTime = performance.now();\n      this.accumulator = 0;\n      this.player = (0, _systemsPlayer.createPlayer)(this.config);\n      this.pickups = [];\n      this.hazards = [];\n      this.cameraY = 0;\n      this.lastPulseTime = 0;\n      this.loop();\n    }\n    stop() {\n      this.running = false;\n      if (this.animationFrameId) {\n        cancelAnimationFrame(this.animationFrameId);\n        this.animationFrameId = null;\n      }\n    }\n    pause() {\n      this.running = false;\n    }\n    resume() {\n      this.running = true;\n      this.lastTime = performance.now();\n      this.loop();\n    }\n    loop = () => {\n      if (!this.running) return;\n      const currentTime = performance.now();\n      const deltaTime = currentTime - this.lastTime;\n      this.lastTime = currentTime;\n      this.accumulator += deltaTime;\n      const store = _store.useGameStore.getState();\n\n      // Fixed timestep updates\n      while (this.accumulator >= this.config.fixedDeltaTime) {\n        if (store.phase === 'playing') {\n          this.fixedUpdate(this.config.fixedDeltaTime / 1000);\n        }\n        this.accumulator -= this.config.fixedDeltaTime;\n      }\n      this.animationFrameId = requestAnimationFrame(this.loop);\n    };\n    fixedUpdate(dt) {\n      const store = _store.useGameStore.getState();\n\n      // Update timer\n      const newTimer = store.timer - dt;\n      if (newTimer <= 0) {\n        store.setPhase('ended');\n        store.endRun(); // Save mastery progress\n        this.stop();\n        return;\n      }\n      store.setTimer(newTimer);\n\n      // Update difficulty based on time elapsed\n      const elapsed = store.maxTime - newTimer;\n      const newDifficulty = 1 + elapsed / store.maxTime * 2;\n      store.setDifficulty(newDifficulty);\n\n      // Check for upgrade time (every 15 seconds)\n      if (elapsed - store.lastUpgradeTime >= store.upgradeInterval) {\n        store.triggerUpgradeChoice();\n        return; // Pause gameplay during upgrade selection\n      }\n\n      // Track low HP time for Risk Mastery\n      if (this.player.hp === 1) {\n        store.addLowHpTime(dt);\n      }\n\n      // Update player\n      (0, _systemsPlayer.updatePlayer)(this.player, dt, this.config);\n\n      // Update camera to follow player\n      this.cameraY = Math.max(0, this.player.position.y - this.config.screenHeight / 2);\n\n      // Spawn pickups\n      if (Math.random() < 0.025 * store.difficulty) {\n        const pickup = (0, _systemsPickups.spawnPickup)(this.player.position.y, this.config, store.difficulty);\n        this.pickups.push(pickup);\n      }\n\n      // Spawn hazards\n      const newHazards = (0, _systemsHazards.spawnHazards)(this.player.position.y, this.config, store.difficulty);\n      this.hazards.push(...newHazards);\n\n      // Update pickups\n      (0, _systemsPickups.updatePickups)(this.pickups, this.player, dt);\n\n      // Update hazards\n      (0, _systemsHazards.updateHazards)(this.hazards, this.player, dt);\n\n      // Check collisions with mastery tracking\n      (0, _systemsPickups.checkPickupCollisions)(this.pickups, this.player, store);\n      const collisionResult = (0, _systemsHazards.checkHazardCollisions)(this.hazards, this.player, store);\n\n      // Track near misses and phase throughs\n      if (collisionResult.nearMisses > 0) {\n        for (let i = 0; i < collisionResult.nearMisses; i++) {\n          store.addNearMiss();\n        }\n      }\n      if (collisionResult.phaseThroughs > 0) {\n        for (let i = 0; i < collisionResult.phaseThroughs; i++) {\n          store.addPhaseThrough();\n        }\n      }\n\n      // Clean up off-screen entities\n      const cleanupThreshold = this.player.position.y - this.config.screenHeight;\n      this.pickups = this.pickups.filter(p => p.position.y > cleanupThreshold && p.active);\n      this.hazards = this.hazards.filter(h => h.position.y > cleanupThreshold && h.active);\n\n      // Update distance\n      store.addDistance(this.player.velocity.y * dt);\n    }\n    handleTouchStart() {\n      const store = _store.useGameStore.getState();\n      if (store.phase !== 'playing') return;\n      this.player.isCharging = true;\n    }\n    handleTouchEnd() {\n      const store = _store.useGameStore.getState();\n      if (store.phase !== 'playing') return;\n      if (this.player.charge > 0.1) {\n        this.pulse();\n      }\n      this.player.isCharging = false;\n      this.player.charge = 0;\n    }\n    pulse() {\n      const store = _store.useGameStore.getState();\n      const chargeRatio = this.player.charge / this.player.maxCharge;\n      const currentTime = performance.now() / 1000;\n\n      // Check rhythm streak for Timing Mastery\n      if (this.lastPulseTime > 0) {\n        const timeSinceLastPulse = currentTime - this.lastPulseTime;\n        const isGoodRhythm = timeSinceLastPulse >= RHYTHM_WINDOW_MIN && timeSinceLastPulse <= RHYTHM_WINDOW_MAX;\n        store.updateRhythmStreak(isGoodRhythm);\n      }\n      this.lastPulseTime = currentTime;\n\n      // Dash forward (up)\n      this.player.velocity.y += this.player.dashPower * chargeRatio;\n\n      // Activate phase mode\n      this.player.phaseActive = true;\n      this.player.phaseTimer = this.player.phaseDuration;\n\n      // Magnetize nearby pickups\n      this.pickups.forEach(pickup => {\n        const dx = pickup.position.x - this.player.position.x;\n        const dy = pickup.position.y - this.player.position.y;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n        if (dist < this.player.magnetRange * chargeRatio) {\n          pickup.magnetized = true;\n        }\n      });\n\n      // Perfect pulse bonus (charge near max)\n      if (chargeRatio > 0.9) {\n        store.addPerfectPulse();\n        store.addScore(50 * (store.multiplier || 1));\n      }\n\n      // Add heat\n      this.player.heat = Math.min(1, this.player.heat + 0.2);\n\n      // Reset charge\n      this.player.charge = 0;\n    }\n    getConfig() {\n      return this.config;\n    }\n  }\n});","lineCount":230,"map":[[7,2,9,0,"Object"],[7,8,9,0],[7,9,9,0,"defineProperty"],[7,23,9,0],[7,24,9,0,"exports"],[7,31,9,0],[8,4,9,0,"enumerable"],[8,14,9,0],[9,4,9,0,"get"],[9,7,9,0],[9,18,9,0,"get"],[9,19,9,0],[10,6,9,0],[10,13,9,0,"DEFAULT_CONFIG"],[10,27,9,0],[11,4,9,0],[12,2,9,0],[13,2,22,0,"Object"],[13,8,22,0],[13,9,22,0,"defineProperty"],[13,23,22,0],[13,24,22,0,"exports"],[13,31,22,0],[14,4,22,0,"enumerable"],[14,14,22,0],[15,4,22,0,"get"],[15,7,22,0],[15,18,22,0,"get"],[15,19,22,0],[16,6,22,0],[16,13,22,0,"GameEngine"],[16,23,22,0],[17,4,22,0],[18,2,22,0],[19,2,4,0],[19,6,4,0,"_systemsPlayer"],[19,20,4,0],[19,23,4,0,"require"],[19,30,4,0],[19,31,4,0,"_dependencyMap"],[19,45,4,0],[20,2,5,0],[20,6,5,0,"_systemsPickups"],[20,21,5,0],[20,24,5,0,"require"],[20,31,5,0],[20,32,5,0,"_dependencyMap"],[20,46,5,0],[21,2,6,0],[21,6,6,0,"_systemsHazards"],[21,21,6,0],[21,24,6,0,"require"],[21,31,6,0],[21,32,6,0,"_dependencyMap"],[21,46,6,0],[22,2,7,0],[22,6,7,0,"_store"],[22,12,7,0],[22,15,7,0,"require"],[22,22,7,0],[22,23,7,0,"_dependencyMap"],[22,37,7,0],[23,2,1,0],[25,2,9,7],[25,8,9,13,"DEFAULT_CONFIG"],[25,22,9,39],[25,25,9,42],[26,4,10,2,"screenWidth"],[26,15,10,13],[26,17,10,15],[26,20,10,18],[27,4,11,2,"screenHeight"],[27,16,11,14],[27,18,11,16],[27,21,11,19],[28,4,12,2,"worldWidth"],[28,14,12,12],[28,16,12,14],[28,19,12,17],[29,4,13,2,"worldHeight"],[29,15,13,13],[29,17,13,15],[29,21,13,19],[30,4,14,2,"targetFPS"],[30,13,14,11],[30,15,14,13],[30,17,14,15],[31,4,15,2,"fixedDeltaTime"],[31,18,15,16],[31,20,15,18],[31,24,15,22],[31,27,15,25],[32,2,16,0],[32,3,16,1],[34,2,18,0],[35,2,19,0],[35,8,19,6,"RHYTHM_WINDOW_MIN"],[35,25,19,23],[35,28,19,26],[35,31,19,29],[36,2,20,0],[36,8,20,6,"RHYTHM_WINDOW_MAX"],[36,25,20,23],[36,28,20,26],[36,31,20,29],[37,2,22,7],[37,8,22,13,"GameEngine"],[37,18,22,23],[37,19,22,24],[38,4,24,10,"lastTime"],[38,12,24,18],[38,15,24,29],[38,16,24,30],[39,4,25,10,"accumulator"],[39,15,25,21],[39,18,25,32],[39,19,25,33],[40,4,26,10,"animationFrameId"],[40,20,26,26],[40,23,26,44],[40,27,26,48],[41,4,27,10,"running"],[41,11,27,17],[41,14,27,29],[41,19,27,34],[42,4,30,9,"pickups"],[42,11,30,16],[42,14,30,29],[42,16,30,31],[43,4,31,9,"hazards"],[43,11,31,16],[43,14,31,29],[43,16,31,31],[44,4,32,9,"cameraY"],[44,11,32,16],[44,14,32,27],[44,15,32,28],[46,4,34,2],[47,4,35,10,"lastPulseTime"],[47,17,35,23],[47,20,35,34],[47,21,35,35],[48,4,37,2,"constructor"],[48,15,37,13,"constructor"],[48,16,37,14,"config"],[48,22,37,41],[48,25,37,44],[48,26,37,45],[48,27,37,46],[48,29,37,48],[49,6,38,4],[49,10,38,8],[49,11,38,9,"config"],[49,17,38,15],[49,20,38,15,"Object"],[49,26,38,15],[49,27,38,15,"assign"],[49,33,38,15],[49,38,38,23,"DEFAULT_CONFIG"],[49,52,38,37],[49,54,38,42,"config"],[49,60,38,48],[49,61,38,50],[50,6,39,4],[50,10,39,8],[50,11,39,9,"player"],[50,17,39,15],[50,20,39,18],[50,24,39,18,"createPlayer"],[50,38,39,30],[50,39,39,30,"createPlayer"],[50,51,39,30],[50,53,39,31],[50,57,39,35],[50,58,39,36,"config"],[50,64,39,42],[50,65,39,43],[51,4,40,2],[52,4,42,2,"start"],[52,9,42,7,"start"],[52,10,42,7],[52,12,42,10],[53,6,43,4],[53,10,43,8],[53,11,43,9,"running"],[53,18,43,16],[53,21,43,19],[53,25,43,23],[54,6,44,4],[54,10,44,8],[54,11,44,9,"lastTime"],[54,19,44,17],[54,22,44,20,"performance"],[54,33,44,31],[54,34,44,32,"now"],[54,37,44,35],[54,38,44,36],[54,39,44,37],[55,6,45,4],[55,10,45,8],[55,11,45,9,"accumulator"],[55,22,45,20],[55,25,45,23],[55,26,45,24],[56,6,46,4],[56,10,46,8],[56,11,46,9,"player"],[56,17,46,15],[56,20,46,18],[56,24,46,18,"createPlayer"],[56,38,46,30],[56,39,46,30,"createPlayer"],[56,51,46,30],[56,53,46,31],[56,57,46,35],[56,58,46,36,"config"],[56,64,46,42],[56,65,46,43],[57,6,47,4],[57,10,47,8],[57,11,47,9,"pickups"],[57,18,47,16],[57,21,47,19],[57,23,47,21],[58,6,48,4],[58,10,48,8],[58,11,48,9,"hazards"],[58,18,48,16],[58,21,48,19],[58,23,48,21],[59,6,49,4],[59,10,49,8],[59,11,49,9,"cameraY"],[59,18,49,16],[59,21,49,19],[59,22,49,20],[60,6,50,4],[60,10,50,8],[60,11,50,9,"lastPulseTime"],[60,24,50,22],[60,27,50,25],[60,28,50,26],[61,6,51,4],[61,10,51,8],[61,11,51,9,"loop"],[61,15,51,13],[61,16,51,14],[61,17,51,15],[62,4,52,2],[63,4,54,2,"stop"],[63,8,54,6,"stop"],[63,9,54,6],[63,11,54,9],[64,6,55,4],[64,10,55,8],[64,11,55,9,"running"],[64,18,55,16],[64,21,55,19],[64,26,55,24],[65,6,56,4],[65,10,56,8],[65,14,56,12],[65,15,56,13,"animationFrameId"],[65,31,56,29],[65,33,56,31],[66,8,57,6,"cancelAnimationFrame"],[66,28,57,26],[66,29,57,27],[66,33,57,31],[66,34,57,32,"animationFrameId"],[66,50,57,48],[66,51,57,49],[67,8,58,6],[67,12,58,10],[67,13,58,11,"animationFrameId"],[67,29,58,27],[67,32,58,30],[67,36,58,34],[68,6,59,4],[69,4,60,2],[70,4,62,2,"pause"],[70,9,62,7,"pause"],[70,10,62,7],[70,12,62,10],[71,6,63,4],[71,10,63,8],[71,11,63,9,"running"],[71,18,63,16],[71,21,63,19],[71,26,63,24],[72,4,64,2],[73,4,66,2,"resume"],[73,10,66,8,"resume"],[73,11,66,8],[73,13,66,11],[74,6,67,4],[74,10,67,8],[74,11,67,9,"running"],[74,18,67,16],[74,21,67,19],[74,25,67,23],[75,6,68,4],[75,10,68,8],[75,11,68,9,"lastTime"],[75,19,68,17],[75,22,68,20,"performance"],[75,33,68,31],[75,34,68,32,"now"],[75,37,68,35],[75,38,68,36],[75,39,68,37],[76,6,69,4],[76,10,69,8],[76,11,69,9,"loop"],[76,15,69,13],[76,16,69,14],[76,17,69,15],[77,4,70,2],[78,4,72,10,"loop"],[78,8,72,14],[78,11,72,17,"loop"],[78,12,72,17],[78,17,72,23],[79,6,73,4],[79,10,73,8],[79,11,73,9],[79,15,73,13],[79,16,73,14,"running"],[79,23,73,21],[79,25,73,23],[80,6,75,4],[80,12,75,10,"currentTime"],[80,23,75,21],[80,26,75,24,"performance"],[80,37,75,35],[80,38,75,36,"now"],[80,41,75,39],[80,42,75,40],[80,43,75,41],[81,6,76,4],[81,12,76,10,"deltaTime"],[81,21,76,19],[81,24,76,22,"currentTime"],[81,35,76,33],[81,38,76,36],[81,42,76,40],[81,43,76,41,"lastTime"],[81,51,76,49],[82,6,77,4],[82,10,77,8],[82,11,77,9,"lastTime"],[82,19,77,17],[82,22,77,20,"currentTime"],[82,33,77,31],[83,6,79,4],[83,10,79,8],[83,11,79,9,"accumulator"],[83,22,79,20],[83,26,79,24,"deltaTime"],[83,35,79,33],[84,6,81,4],[84,12,81,10,"store"],[84,17,81,15],[84,20,81,18,"useGameStore"],[84,26,81,30],[84,27,81,30,"useGameStore"],[84,39,81,30],[84,40,81,31,"getState"],[84,48,81,39],[84,49,81,40],[84,50,81,41],[86,6,83,4],[87,6,84,4],[87,13,84,11],[87,17,84,15],[87,18,84,16,"accumulator"],[87,29,84,27],[87,33,84,31],[87,37,84,35],[87,38,84,36,"config"],[87,44,84,42],[87,45,84,43,"fixedDeltaTime"],[87,59,84,57],[87,61,84,59],[88,8,85,6],[88,12,85,10,"store"],[88,17,85,15],[88,18,85,16,"phase"],[88,23,85,21],[88,28,85,26],[88,37,85,35],[88,39,85,37],[89,10,86,8],[89,14,86,12],[89,15,86,13,"fixedUpdate"],[89,26,86,24],[89,27,86,25],[89,31,86,29],[89,32,86,30,"config"],[89,38,86,36],[89,39,86,37,"fixedDeltaTime"],[89,53,86,51],[89,56,86,54],[89,60,86,58],[89,61,86,59],[90,8,87,6],[91,8,88,6],[91,12,88,10],[91,13,88,11,"accumulator"],[91,24,88,22],[91,28,88,26],[91,32,88,30],[91,33,88,31,"config"],[91,39,88,37],[91,40,88,38,"fixedDeltaTime"],[91,54,88,52],[92,6,89,4],[93,6,91,4],[93,10,91,8],[93,11,91,9,"animationFrameId"],[93,27,91,25],[93,30,91,28,"requestAnimationFrame"],[93,51,91,49],[93,52,91,50],[93,56,91,54],[93,57,91,55,"loop"],[93,61,91,59],[93,62,91,60],[94,4,92,2],[94,5,92,3],[95,4,94,10,"fixedUpdate"],[95,15,94,21,"fixedUpdate"],[95,16,94,22,"dt"],[95,18,94,32],[95,20,94,34],[96,6,95,4],[96,12,95,10,"store"],[96,17,95,15],[96,20,95,18,"useGameStore"],[96,26,95,30],[96,27,95,30,"useGameStore"],[96,39,95,30],[96,40,95,31,"getState"],[96,48,95,39],[96,49,95,40],[96,50,95,41],[98,6,97,4],[99,6,98,4],[99,12,98,10,"newTimer"],[99,20,98,18],[99,23,98,21,"store"],[99,28,98,26],[99,29,98,27,"timer"],[99,34,98,32],[99,37,98,35,"dt"],[99,39,98,37],[100,6,99,4],[100,10,99,8,"newTimer"],[100,18,99,16],[100,22,99,20],[100,23,99,21],[100,25,99,23],[101,8,100,6,"store"],[101,13,100,11],[101,14,100,12,"setPhase"],[101,22,100,20],[101,23,100,21],[101,30,100,28],[101,31,100,29],[102,8,101,6,"store"],[102,13,101,11],[102,14,101,12,"endRun"],[102,20,101,18],[102,21,101,19],[102,22,101,20],[102,23,101,21],[102,24,101,22],[103,8,102,6],[103,12,102,10],[103,13,102,11,"stop"],[103,17,102,15],[103,18,102,16],[103,19,102,17],[104,8,103,6],[105,6,104,4],[106,6,105,4,"store"],[106,11,105,9],[106,12,105,10,"setTimer"],[106,20,105,18],[106,21,105,19,"newTimer"],[106,29,105,27],[106,30,105,28],[108,6,107,4],[109,6,108,4],[109,12,108,10,"elapsed"],[109,19,108,17],[109,22,108,20,"store"],[109,27,108,25],[109,28,108,26,"maxTime"],[109,35,108,33],[109,38,108,36,"newTimer"],[109,46,108,44],[110,6,109,4],[110,12,109,10,"newDifficulty"],[110,25,109,23],[110,28,109,26],[110,29,109,27],[110,32,109,31,"elapsed"],[110,39,109,38],[110,42,109,41,"store"],[110,47,109,46],[110,48,109,47,"maxTime"],[110,55,109,54],[110,58,109,58],[110,59,109,59],[111,6,110,4,"store"],[111,11,110,9],[111,12,110,10,"setDifficulty"],[111,25,110,23],[111,26,110,24,"newDifficulty"],[111,39,110,37],[111,40,110,38],[113,6,112,4],[114,6,113,4],[114,10,113,8,"elapsed"],[114,17,113,15],[114,20,113,18,"store"],[114,25,113,23],[114,26,113,24,"lastUpgradeTime"],[114,41,113,39],[114,45,113,43,"store"],[114,50,113,48],[114,51,113,49,"upgradeInterval"],[114,66,113,64],[114,68,113,66],[115,8,114,6,"store"],[115,13,114,11],[115,14,114,12,"triggerUpgradeChoice"],[115,34,114,32],[115,35,114,33],[115,36,114,34],[116,8,115,6],[116,15,115,13],[116,16,115,14],[117,6,116,4],[119,6,118,4],[120,6,119,4],[120,10,119,8],[120,14,119,12],[120,15,119,13,"player"],[120,21,119,19],[120,22,119,20,"hp"],[120,24,119,22],[120,29,119,27],[120,30,119,28],[120,32,119,30],[121,8,120,6,"store"],[121,13,120,11],[121,14,120,12,"addLowHpTime"],[121,26,120,24],[121,27,120,25,"dt"],[121,29,120,27],[121,30,120,28],[122,6,121,4],[124,6,123,4],[125,6,124,4],[125,10,124,4,"updatePlayer"],[125,24,124,16],[125,25,124,16,"updatePlayer"],[125,37,124,16],[125,39,124,17],[125,43,124,21],[125,44,124,22,"player"],[125,50,124,28],[125,52,124,30,"dt"],[125,54,124,32],[125,56,124,34],[125,60,124,38],[125,61,124,39,"config"],[125,67,124,45],[125,68,124,46],[127,6,126,4],[128,6,127,4],[128,10,127,8],[128,11,127,9,"cameraY"],[128,18,127,16],[128,21,127,19,"Math"],[128,25,127,23],[128,26,127,24,"max"],[128,29,127,27],[128,30,127,28],[128,31,127,29],[128,33,127,31],[128,37,127,35],[128,38,127,36,"player"],[128,44,127,42],[128,45,127,43,"position"],[128,53,127,51],[128,54,127,52,"y"],[128,55,127,53],[128,58,127,56],[128,62,127,60],[128,63,127,61,"config"],[128,69,127,67],[128,70,127,68,"screenHeight"],[128,82,127,80],[128,85,127,83],[128,86,127,84],[128,87,127,85],[130,6,129,4],[131,6,130,4],[131,10,130,8,"Math"],[131,14,130,12],[131,15,130,13,"random"],[131,21,130,19],[131,22,130,20],[131,23,130,21],[131,26,130,24],[131,31,130,29],[131,34,130,32,"store"],[131,39,130,37],[131,40,130,38,"difficulty"],[131,50,130,48],[131,52,130,50],[132,8,131,6],[132,14,131,12,"pickup"],[132,20,131,18],[132,23,131,21],[132,27,131,21,"spawnPickup"],[132,42,131,32],[132,43,131,32,"spawnPickup"],[132,54,131,32],[132,56,131,33],[132,60,131,37],[132,61,131,38,"player"],[132,67,131,44],[132,68,131,45,"position"],[132,76,131,53],[132,77,131,54,"y"],[132,78,131,55],[132,80,131,57],[132,84,131,61],[132,85,131,62,"config"],[132,91,131,68],[132,93,131,70,"store"],[132,98,131,75],[132,99,131,76,"difficulty"],[132,109,131,86],[132,110,131,87],[133,8,132,6],[133,12,132,10],[133,13,132,11,"pickups"],[133,20,132,18],[133,21,132,19,"push"],[133,25,132,23],[133,26,132,24,"pickup"],[133,32,132,30],[133,33,132,31],[134,6,133,4],[136,6,135,4],[137,6,136,4],[137,12,136,10,"newHazards"],[137,22,136,20],[137,25,136,23],[137,29,136,23,"spawnHazards"],[137,44,136,35],[137,45,136,35,"spawnHazards"],[137,57,136,35],[137,59,136,36],[137,63,136,40],[137,64,136,41,"player"],[137,70,136,47],[137,71,136,48,"position"],[137,79,136,56],[137,80,136,57,"y"],[137,81,136,58],[137,83,136,60],[137,87,136,64],[137,88,136,65,"config"],[137,94,136,71],[137,96,136,73,"store"],[137,101,136,78],[137,102,136,79,"difficulty"],[137,112,136,89],[137,113,136,90],[138,6,137,4],[138,10,137,8],[138,11,137,9,"hazards"],[138,18,137,16],[138,19,137,17,"push"],[138,23,137,21],[138,24,137,22],[138,27,137,25,"newHazards"],[138,37,137,35],[138,38,137,36],[140,6,139,4],[141,6,140,4],[141,10,140,4,"updatePickups"],[141,25,140,17],[141,26,140,17,"updatePickups"],[141,39,140,17],[141,41,140,18],[141,45,140,22],[141,46,140,23,"pickups"],[141,53,140,30],[141,55,140,32],[141,59,140,36],[141,60,140,37,"player"],[141,66,140,43],[141,68,140,45,"dt"],[141,70,140,47],[141,71,140,48],[143,6,142,4],[144,6,143,4],[144,10,143,4,"updateHazards"],[144,25,143,17],[144,26,143,17,"updateHazards"],[144,39,143,17],[144,41,143,18],[144,45,143,22],[144,46,143,23,"hazards"],[144,53,143,30],[144,55,143,32],[144,59,143,36],[144,60,143,37,"player"],[144,66,143,43],[144,68,143,45,"dt"],[144,70,143,47],[144,71,143,48],[146,6,145,4],[147,6,146,4],[147,10,146,4,"checkPickupCollisions"],[147,25,146,25],[147,26,146,25,"checkPickupCollisions"],[147,47,146,25],[147,49,146,26],[147,53,146,30],[147,54,146,31,"pickups"],[147,61,146,38],[147,63,146,40],[147,67,146,44],[147,68,146,45,"player"],[147,74,146,51],[147,76,146,53,"store"],[147,81,146,58],[147,82,146,59],[148,6,147,4],[148,12,147,10,"collisionResult"],[148,27,147,25],[148,30,147,28],[148,34,147,28,"checkHazardCollisions"],[148,49,147,49],[148,50,147,49,"checkHazardCollisions"],[148,71,147,49],[148,73,147,50],[148,77,147,54],[148,78,147,55,"hazards"],[148,85,147,62],[148,87,147,64],[148,91,147,68],[148,92,147,69,"player"],[148,98,147,75],[148,100,147,77,"store"],[148,105,147,82],[148,106,147,83],[150,6,149,4],[151,6,150,4],[151,10,150,8,"collisionResult"],[151,25,150,23],[151,26,150,24,"nearMisses"],[151,36,150,34],[151,39,150,37],[151,40,150,38],[151,42,150,40],[152,8,151,6],[152,13,151,11],[152,17,151,15,"i"],[152,18,151,16],[152,21,151,19],[152,22,151,20],[152,24,151,22,"i"],[152,25,151,23],[152,28,151,26,"collisionResult"],[152,43,151,41],[152,44,151,42,"nearMisses"],[152,54,151,52],[152,56,151,54,"i"],[152,57,151,55],[152,59,151,57],[152,61,151,59],[153,10,152,8,"store"],[153,15,152,13],[153,16,152,14,"addNearMiss"],[153,27,152,25],[153,28,152,26],[153,29,152,27],[154,8,153,6],[155,6,154,4],[156,6,155,4],[156,10,155,8,"collisionResult"],[156,25,155,23],[156,26,155,24,"phaseThroughs"],[156,39,155,37],[156,42,155,40],[156,43,155,41],[156,45,155,43],[157,8,156,6],[157,13,156,11],[157,17,156,15,"i"],[157,18,156,16],[157,21,156,19],[157,22,156,20],[157,24,156,22,"i"],[157,25,156,23],[157,28,156,26,"collisionResult"],[157,43,156,41],[157,44,156,42,"phaseThroughs"],[157,57,156,55],[157,59,156,57,"i"],[157,60,156,58],[157,62,156,60],[157,64,156,62],[158,10,157,8,"store"],[158,15,157,13],[158,16,157,14,"addPhaseThrough"],[158,31,157,29],[158,32,157,30],[158,33,157,31],[159,8,158,6],[160,6,159,4],[162,6,161,4],[163,6,162,4],[163,12,162,10,"cleanupThreshold"],[163,28,162,26],[163,31,162,29],[163,35,162,33],[163,36,162,34,"player"],[163,42,162,40],[163,43,162,41,"position"],[163,51,162,49],[163,52,162,50,"y"],[163,53,162,51],[163,56,162,54],[163,60,162,58],[163,61,162,59,"config"],[163,67,162,65],[163,68,162,66,"screenHeight"],[163,80,162,78],[164,6,163,4],[164,10,163,8],[164,11,163,9,"pickups"],[164,18,163,16],[164,21,163,19],[164,25,163,23],[164,26,163,24,"pickups"],[164,33,163,31],[164,34,163,32,"filter"],[164,40,163,38],[164,41,163,39,"p"],[164,42,163,40],[164,46,163,44,"p"],[164,47,163,45],[164,48,163,46,"position"],[164,56,163,54],[164,57,163,55,"y"],[164,58,163,56],[164,61,163,59,"cleanupThreshold"],[164,77,163,75],[164,81,163,79,"p"],[164,82,163,80],[164,83,163,81,"active"],[164,89,163,87],[164,90,163,88],[165,6,164,4],[165,10,164,8],[165,11,164,9,"hazards"],[165,18,164,16],[165,21,164,19],[165,25,164,23],[165,26,164,24,"hazards"],[165,33,164,31],[165,34,164,32,"filter"],[165,40,164,38],[165,41,164,39,"h"],[165,42,164,40],[165,46,164,44,"h"],[165,47,164,45],[165,48,164,46,"position"],[165,56,164,54],[165,57,164,55,"y"],[165,58,164,56],[165,61,164,59,"cleanupThreshold"],[165,77,164,75],[165,81,164,79,"h"],[165,82,164,80],[165,83,164,81,"active"],[165,89,164,87],[165,90,164,88],[167,6,166,4],[168,6,167,4,"store"],[168,11,167,9],[168,12,167,10,"addDistance"],[168,23,167,21],[168,24,167,22],[168,28,167,26],[168,29,167,27,"player"],[168,35,167,33],[168,36,167,34,"velocity"],[168,44,167,42],[168,45,167,43,"y"],[168,46,167,44],[168,49,167,47,"dt"],[168,51,167,49],[168,52,167,50],[169,4,168,2],[170,4,170,2,"handleTouchStart"],[170,20,170,18,"handleTouchStart"],[170,21,170,18],[170,23,170,21],[171,6,171,4],[171,12,171,10,"store"],[171,17,171,15],[171,20,171,18,"useGameStore"],[171,26,171,30],[171,27,171,30,"useGameStore"],[171,39,171,30],[171,40,171,31,"getState"],[171,48,171,39],[171,49,171,40],[171,50,171,41],[172,6,172,4],[172,10,172,8,"store"],[172,15,172,13],[172,16,172,14,"phase"],[172,21,172,19],[172,26,172,24],[172,35,172,33],[172,37,172,35],[173,6,173,4],[173,10,173,8],[173,11,173,9,"player"],[173,17,173,15],[173,18,173,16,"isCharging"],[173,28,173,26],[173,31,173,29],[173,35,173,33],[174,4,174,2],[175,4,176,2,"handleTouchEnd"],[175,18,176,16,"handleTouchEnd"],[175,19,176,16],[175,21,176,19],[176,6,177,4],[176,12,177,10,"store"],[176,17,177,15],[176,20,177,18,"useGameStore"],[176,26,177,30],[176,27,177,30,"useGameStore"],[176,39,177,30],[176,40,177,31,"getState"],[176,48,177,39],[176,49,177,40],[176,50,177,41],[177,6,178,4],[177,10,178,8,"store"],[177,15,178,13],[177,16,178,14,"phase"],[177,21,178,19],[177,26,178,24],[177,35,178,33],[177,37,178,35],[178,6,180,4],[178,10,180,8],[178,14,180,12],[178,15,180,13,"player"],[178,21,180,19],[178,22,180,20,"charge"],[178,28,180,26],[178,31,180,29],[178,34,180,32],[178,36,180,34],[179,8,181,6],[179,12,181,10],[179,13,181,11,"pulse"],[179,18,181,16],[179,19,181,17],[179,20,181,18],[180,6,182,4],[181,6,183,4],[181,10,183,8],[181,11,183,9,"player"],[181,17,183,15],[181,18,183,16,"isCharging"],[181,28,183,26],[181,31,183,29],[181,36,183,34],[182,6,184,4],[182,10,184,8],[182,11,184,9,"player"],[182,17,184,15],[182,18,184,16,"charge"],[182,24,184,22],[182,27,184,25],[182,28,184,26],[183,4,185,2],[184,4,187,10,"pulse"],[184,9,187,15,"pulse"],[184,10,187,15],[184,12,187,18],[185,6,188,4],[185,12,188,10,"store"],[185,17,188,15],[185,20,188,18,"useGameStore"],[185,26,188,30],[185,27,188,30,"useGameStore"],[185,39,188,30],[185,40,188,31,"getState"],[185,48,188,39],[185,49,188,40],[185,50,188,41],[186,6,189,4],[186,12,189,10,"chargeRatio"],[186,23,189,21],[186,26,189,24],[186,30,189,28],[186,31,189,29,"player"],[186,37,189,35],[186,38,189,36,"charge"],[186,44,189,42],[186,47,189,45],[186,51,189,49],[186,52,189,50,"player"],[186,58,189,56],[186,59,189,57,"maxCharge"],[186,68,189,66],[187,6,190,4],[187,12,190,10,"currentTime"],[187,23,190,21],[187,26,190,24,"performance"],[187,37,190,35],[187,38,190,36,"now"],[187,41,190,39],[187,42,190,40],[187,43,190,41],[187,46,190,44],[187,50,190,48],[189,6,192,4],[190,6,193,4],[190,10,193,8],[190,14,193,12],[190,15,193,13,"lastPulseTime"],[190,28,193,26],[190,31,193,29],[190,32,193,30],[190,34,193,32],[191,8,194,6],[191,14,194,12,"timeSinceLastPulse"],[191,32,194,30],[191,35,194,33,"currentTime"],[191,46,194,44],[191,49,194,47],[191,53,194,51],[191,54,194,52,"lastPulseTime"],[191,67,194,65],[192,8,195,6],[192,14,195,12,"isGoodRhythm"],[192,26,195,24],[192,29,195,27,"timeSinceLastPulse"],[192,47,195,45],[192,51,195,49,"RHYTHM_WINDOW_MIN"],[192,68,195,66],[192,72,196,26,"timeSinceLastPulse"],[192,90,196,44],[192,94,196,48,"RHYTHM_WINDOW_MAX"],[192,111,196,65],[193,8,197,6,"store"],[193,13,197,11],[193,14,197,12,"updateRhythmStreak"],[193,32,197,30],[193,33,197,31,"isGoodRhythm"],[193,45,197,43],[193,46,197,44],[194,6,198,4],[195,6,199,4],[195,10,199,8],[195,11,199,9,"lastPulseTime"],[195,24,199,22],[195,27,199,25,"currentTime"],[195,38,199,36],[197,6,201,4],[198,6,202,4],[198,10,202,8],[198,11,202,9,"player"],[198,17,202,15],[198,18,202,16,"velocity"],[198,26,202,24],[198,27,202,25,"y"],[198,28,202,26],[198,32,202,30],[198,36,202,34],[198,37,202,35,"player"],[198,43,202,41],[198,44,202,42,"dashPower"],[198,53,202,51],[198,56,202,54,"chargeRatio"],[198,67,202,65],[200,6,204,4],[201,6,205,4],[201,10,205,8],[201,11,205,9,"player"],[201,17,205,15],[201,18,205,16,"phaseActive"],[201,29,205,27],[201,32,205,30],[201,36,205,34],[202,6,206,4],[202,10,206,8],[202,11,206,9,"player"],[202,17,206,15],[202,18,206,16,"phaseTimer"],[202,28,206,26],[202,31,206,29],[202,35,206,33],[202,36,206,34,"player"],[202,42,206,40],[202,43,206,41,"phaseDuration"],[202,56,206,54],[204,6,208,4],[205,6,209,4],[205,10,209,8],[205,11,209,9,"pickups"],[205,18,209,16],[205,19,209,17,"forEach"],[205,26,209,24],[205,27,209,25,"pickup"],[205,33,209,31],[205,37,209,35],[206,8,210,6],[206,14,210,12,"dx"],[206,16,210,14],[206,19,210,17,"pickup"],[206,25,210,23],[206,26,210,24,"position"],[206,34,210,32],[206,35,210,33,"x"],[206,36,210,34],[206,39,210,37],[206,43,210,41],[206,44,210,42,"player"],[206,50,210,48],[206,51,210,49,"position"],[206,59,210,57],[206,60,210,58,"x"],[206,61,210,59],[207,8,211,6],[207,14,211,12,"dy"],[207,16,211,14],[207,19,211,17,"pickup"],[207,25,211,23],[207,26,211,24,"position"],[207,34,211,32],[207,35,211,33,"y"],[207,36,211,34],[207,39,211,37],[207,43,211,41],[207,44,211,42,"player"],[207,50,211,48],[207,51,211,49,"position"],[207,59,211,57],[207,60,211,58,"y"],[207,61,211,59],[208,8,212,6],[208,14,212,12,"dist"],[208,18,212,16],[208,21,212,19,"Math"],[208,25,212,23],[208,26,212,24,"sqrt"],[208,30,212,28],[208,31,212,29,"dx"],[208,33,212,31],[208,36,212,34,"dx"],[208,38,212,36],[208,41,212,39,"dy"],[208,43,212,41],[208,46,212,44,"dy"],[208,48,212,46],[208,49,212,47],[209,8,213,6],[209,12,213,10,"dist"],[209,16,213,14],[209,19,213,17],[209,23,213,21],[209,24,213,22,"player"],[209,30,213,28],[209,31,213,29,"magnetRange"],[209,42,213,40],[209,45,213,43,"chargeRatio"],[209,56,213,54],[209,58,213,56],[210,10,214,8,"pickup"],[210,16,214,14],[210,17,214,15,"magnetized"],[210,27,214,25],[210,30,214,28],[210,34,214,32],[211,8,215,6],[212,6,216,4],[212,7,216,5],[212,8,216,6],[214,6,218,4],[215,6,219,4],[215,10,219,8,"chargeRatio"],[215,21,219,19],[215,24,219,22],[215,27,219,25],[215,29,219,27],[216,8,220,6,"store"],[216,13,220,11],[216,14,220,12,"addPerfectPulse"],[216,29,220,27],[216,30,220,28],[216,31,220,29],[217,8,221,6,"store"],[217,13,221,11],[217,14,221,12,"addScore"],[217,22,221,20],[217,23,221,21],[217,25,221,23],[217,29,221,27,"store"],[217,34,221,32],[217,35,221,33,"multiplier"],[217,45,221,43],[217,49,221,47],[217,50,221,48],[217,51,221,49],[217,52,221,50],[218,6,222,4],[220,6,224,4],[221,6,225,4],[221,10,225,8],[221,11,225,9,"player"],[221,17,225,15],[221,18,225,16,"heat"],[221,22,225,20],[221,25,225,23,"Math"],[221,29,225,27],[221,30,225,28,"min"],[221,33,225,31],[221,34,225,32],[221,35,225,33],[221,37,225,35],[221,41,225,39],[221,42,225,40,"player"],[221,48,225,46],[221,49,225,47,"heat"],[221,53,225,51],[221,56,225,54],[221,59,225,57],[221,60,225,58],[223,6,227,4],[224,6,228,4],[224,10,228,8],[224,11,228,9,"player"],[224,17,228,15],[224,18,228,16,"charge"],[224,24,228,22],[224,27,228,25],[224,28,228,26],[225,4,229,2],[226,4,231,2,"getConfig"],[226,13,231,11,"getConfig"],[226,14,231,11],[226,16,231,14],[227,6,232,4],[227,13,232,11],[227,17,232,15],[227,18,232,16,"config"],[227,24,232,22],[228,4,233,2],[229,2,234,0],[230,0,234,1],[230,3]],"functionMap":{"names":["<global>","GameEngine","GameEngine#constructor","GameEngine#start","GameEngine#stop","GameEngine#pause","GameEngine#resume","GameEngine#loop","GameEngine#fixedUpdate","pickups.filter$argument_0","hazards.filter$argument_0","GameEngine#handleTouchStart","GameEngine#handleTouchEnd","GameEngine#pulse","pickups.forEach$argument_0","GameEngine#getConfig"],"mappings":"AAA;OCqB;ECe;GDG;EEE;GFU;EGE;GHM;EIE;GJE;EKE;GLI;iBME;GNoB;EOE;uCCqE,gDD;uCEC,gDF;GPI;EUE;GVI;EWE;GXS;EYE;yBCsB;KDO;GZa;EcE;GdE;CDC"},"hasCjsExports":false},"type":"js/module"}]}