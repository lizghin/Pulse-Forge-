{"dependencies":[{"name":"./systems/player","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":4,"column":0,"index":122},"end":{"line":4,"column":62,"index":184}}],"key":"uNlH5SYFcwF3aKh99qGiReqDl0g=","exportNames":["*"],"imports":1}},{"name":"./systems/pickups","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":5,"column":0,"index":185},"end":{"line":5,"column":86,"index":271}}],"key":"2uxaPaniyVzDVy0JMQz8ZMRXHNs=","exportNames":["*"],"imports":1}},{"name":"./systems/hazards","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":6,"column":0,"index":272},"end":{"line":6,"column":87,"index":359}}],"key":"Kh7TX8nNcNdtGRnghg2A4b5Bh20=","exportNames":["*"],"imports":1}},{"name":"./store","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":7,"column":0,"index":360},"end":{"line":7,"column":39,"index":399}}],"key":"5APpJpQn7z9vMHIr4H9Bv6aaMsY=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"DEFAULT_CONFIG\", {\n    enumerable: true,\n    get: function () {\n      return DEFAULT_CONFIG;\n    }\n  });\n  Object.defineProperty(exports, \"GameEngine\", {\n    enumerable: true,\n    get: function () {\n      return GameEngine;\n    }\n  });\n  var _systemsPlayer = require(_dependencyMap[0], \"./systems/player\");\n  var _systemsPickups = require(_dependencyMap[1], \"./systems/pickups\");\n  var _systemsHazards = require(_dependencyMap[2], \"./systems/hazards\");\n  var _store = require(_dependencyMap[3], \"./store\");\n  // Game engine - fixed timestep loop with Mastery tracking\n\n  const DEFAULT_CONFIG = {\n    screenWidth: 390,\n    screenHeight: 844,\n    worldWidth: 390,\n    worldHeight: 2000,\n    targetFPS: 60,\n    fixedDeltaTime: 1000 / 60\n  };\n\n  // Rhythm timing window (seconds between pulses for streak)\n  const RHYTHM_WINDOW_MIN = 0.8;\n  const RHYTHM_WINDOW_MAX = 1.5;\n  class GameEngine {\n    lastTime = 0;\n    accumulator = 0;\n    animationFrameId = null;\n    running = false;\n    pickups = [];\n    hazards = [];\n    cameraY = 0;\n\n    // Mastery tracking\n    lastPulseTime = 0;\n    constructor(config = {}) {\n      this.config = {\n        ...DEFAULT_CONFIG,\n        ...config\n      };\n      this.player = (0, _systemsPlayer.createPlayer)(this.config);\n    }\n    start() {\n      this.running = true;\n      this.lastTime = performance.now();\n      this.accumulator = 0;\n      this.player = (0, _systemsPlayer.createPlayer)(this.config);\n      this.pickups = [];\n      this.hazards = [];\n      this.cameraY = 0;\n      this.lastPulseTime = 0;\n      this.loop();\n    }\n    stop() {\n      this.running = false;\n      if (this.animationFrameId) {\n        cancelAnimationFrame(this.animationFrameId);\n        this.animationFrameId = null;\n      }\n    }\n    pause() {\n      this.running = false;\n    }\n    resume() {\n      this.running = true;\n      this.lastTime = performance.now();\n      this.loop();\n    }\n    loop = () => {\n      if (!this.running) return;\n      const currentTime = performance.now();\n      const deltaTime = currentTime - this.lastTime;\n      this.lastTime = currentTime;\n      this.accumulator += deltaTime;\n      const store = _store.useGameStore.getState();\n\n      // Fixed timestep updates\n      while (this.accumulator >= this.config.fixedDeltaTime) {\n        if (store.phase === 'playing') {\n          this.fixedUpdate(this.config.fixedDeltaTime / 1000);\n        }\n        this.accumulator -= this.config.fixedDeltaTime;\n      }\n      this.animationFrameId = requestAnimationFrame(this.loop);\n    };\n    fixedUpdate(dt) {\n      const store = _store.useGameStore.getState();\n\n      // Update timer\n      const newTimer = store.timer - dt;\n      if (newTimer <= 0) {\n        store.setPhase('ended');\n        store.endRun(); // Save mastery progress\n        this.stop();\n        return;\n      }\n      store.setTimer(newTimer);\n\n      // Update difficulty based on time elapsed\n      const elapsed = store.maxTime - newTimer;\n      const newDifficulty = 1 + elapsed / store.maxTime * 2;\n      store.setDifficulty(newDifficulty);\n\n      // Check for upgrade time (every 15 seconds)\n      if (elapsed - store.lastUpgradeTime >= store.upgradeInterval) {\n        store.triggerUpgradeChoice();\n        return; // Pause gameplay during upgrade selection\n      }\n\n      // Track low HP time for Risk Mastery\n      if (this.player.hp === 1) {\n        store.addLowHpTime(dt);\n      }\n\n      // Update player\n      (0, _systemsPlayer.updatePlayer)(this.player, dt, this.config);\n\n      // Update camera to follow player\n      this.cameraY = Math.max(0, this.player.position.y - this.config.screenHeight / 2);\n\n      // Spawn pickups\n      if (Math.random() < 0.025 * store.difficulty) {\n        const pickup = (0, _systemsPickups.spawnPickup)(this.player.position.y, this.config, store.difficulty);\n        this.pickups.push(pickup);\n      }\n\n      // Spawn hazards with elapsed time for deterministic difficulty\n      const newHazards = (0, _systemsHazards.spawnHazards)(this.player.position.y, this.config, store.difficulty, elapsed);\n      this.hazards.push(...newHazards);\n\n      // Update pickups\n      (0, _systemsPickups.updatePickups)(this.pickups, this.player, dt);\n\n      // Update hazards\n      (0, _systemsHazards.updateHazards)(this.hazards, this.player, dt);\n\n      // Check collisions with mastery tracking\n      (0, _systemsPickups.checkPickupCollisions)(this.pickups, this.player, store);\n      const collisionResult = (0, _systemsHazards.checkHazardCollisions)(this.hazards, this.player, store);\n\n      // Track near misses and phase throughs\n      if (collisionResult.nearMisses > 0) {\n        for (let i = 0; i < collisionResult.nearMisses; i++) {\n          store.addNearMiss();\n        }\n      }\n      if (collisionResult.phaseThroughs > 0) {\n        for (let i = 0; i < collisionResult.phaseThroughs; i++) {\n          store.addPhaseThrough();\n        }\n      }\n\n      // Clean up off-screen entities\n      const cleanupThreshold = this.player.position.y - this.config.screenHeight;\n      this.pickups = this.pickups.filter(p => p.position.y > cleanupThreshold && p.active);\n      this.hazards = this.hazards.filter(h => h.position.y > cleanupThreshold && h.active);\n\n      // Update distance\n      store.addDistance(this.player.velocity.y * dt);\n    }\n    handleTouchStart() {\n      const store = _store.useGameStore.getState();\n      if (store.phase !== 'playing') return;\n      this.player.isCharging = true;\n    }\n    handleTouchEnd() {\n      const store = _store.useGameStore.getState();\n      if (store.phase !== 'playing') return;\n      if (this.player.charge > 0.1) {\n        this.pulse();\n      }\n      this.player.isCharging = false;\n      this.player.charge = 0;\n    }\n    pulse() {\n      const store = _store.useGameStore.getState();\n      const chargeRatio = this.player.charge / this.player.maxCharge;\n      const currentTime = performance.now() / 1000;\n\n      // Check rhythm streak for Timing Mastery\n      if (this.lastPulseTime > 0) {\n        const timeSinceLastPulse = currentTime - this.lastPulseTime;\n        const isGoodRhythm = timeSinceLastPulse >= RHYTHM_WINDOW_MIN && timeSinceLastPulse <= RHYTHM_WINDOW_MAX;\n        store.updateRhythmStreak(isGoodRhythm);\n      }\n      this.lastPulseTime = currentTime;\n\n      // Dash forward (up)\n      this.player.velocity.y += this.player.dashPower * chargeRatio;\n\n      // Activate phase mode\n      this.player.phaseActive = true;\n      this.player.phaseTimer = this.player.phaseDuration;\n\n      // Magnetize nearby pickups\n      this.pickups.forEach(pickup => {\n        const dx = pickup.position.x - this.player.position.x;\n        const dy = pickup.position.y - this.player.position.y;\n        const dist = Math.sqrt(dx * dx + dy * dy);\n        if (dist < this.player.magnetRange * chargeRatio) {\n          pickup.magnetized = true;\n        }\n      });\n\n      // Perfect pulse bonus (charge near max)\n      if (chargeRatio > 0.9) {\n        store.addPerfectPulse();\n        store.addScore(50 * (store.multiplier || 1));\n      }\n\n      // Add heat\n      this.player.heat = Math.min(1, this.player.heat + 0.2);\n\n      // Reset charge\n      this.player.charge = 0;\n    }\n    getConfig() {\n      return this.config;\n    }\n  }\n});","lineCount":233,"map":[[7,2,9,0,"Object"],[7,8,9,0],[7,9,9,0,"defineProperty"],[7,23,9,0],[7,24,9,0,"exports"],[7,31,9,0],[8,4,9,0,"enumerable"],[8,14,9,0],[9,4,9,0,"get"],[9,7,9,0],[9,18,9,0,"get"],[9,19,9,0],[10,6,9,0],[10,13,9,0,"DEFAULT_CONFIG"],[10,27,9,0],[11,4,9,0],[12,2,9,0],[13,2,22,0,"Object"],[13,8,22,0],[13,9,22,0,"defineProperty"],[13,23,22,0],[13,24,22,0,"exports"],[13,31,22,0],[14,4,22,0,"enumerable"],[14,14,22,0],[15,4,22,0,"get"],[15,7,22,0],[15,18,22,0,"get"],[15,19,22,0],[16,6,22,0],[16,13,22,0,"GameEngine"],[16,23,22,0],[17,4,22,0],[18,2,22,0],[19,2,4,0],[19,6,4,0,"_systemsPlayer"],[19,20,4,0],[19,23,4,0,"require"],[19,30,4,0],[19,31,4,0,"_dependencyMap"],[19,45,4,0],[20,2,5,0],[20,6,5,0,"_systemsPickups"],[20,21,5,0],[20,24,5,0,"require"],[20,31,5,0],[20,32,5,0,"_dependencyMap"],[20,46,5,0],[21,2,6,0],[21,6,6,0,"_systemsHazards"],[21,21,6,0],[21,24,6,0,"require"],[21,31,6,0],[21,32,6,0,"_dependencyMap"],[21,46,6,0],[22,2,7,0],[22,6,7,0,"_store"],[22,12,7,0],[22,15,7,0,"require"],[22,22,7,0],[22,23,7,0,"_dependencyMap"],[22,37,7,0],[23,2,1,0],[25,2,9,7],[25,8,9,13,"DEFAULT_CONFIG"],[25,22,9,39],[25,25,9,42],[26,4,10,2,"screenWidth"],[26,15,10,13],[26,17,10,15],[26,20,10,18],[27,4,11,2,"screenHeight"],[27,16,11,14],[27,18,11,16],[27,21,11,19],[28,4,12,2,"worldWidth"],[28,14,12,12],[28,16,12,14],[28,19,12,17],[29,4,13,2,"worldHeight"],[29,15,13,13],[29,17,13,15],[29,21,13,19],[30,4,14,2,"targetFPS"],[30,13,14,11],[30,15,14,13],[30,17,14,15],[31,4,15,2,"fixedDeltaTime"],[31,18,15,16],[31,20,15,18],[31,24,15,22],[31,27,15,25],[32,2,16,0],[32,3,16,1],[34,2,18,0],[35,2,19,0],[35,8,19,6,"RHYTHM_WINDOW_MIN"],[35,25,19,23],[35,28,19,26],[35,31,19,29],[36,2,20,0],[36,8,20,6,"RHYTHM_WINDOW_MAX"],[36,25,20,23],[36,28,20,26],[36,31,20,29],[37,2,22,7],[37,8,22,13,"GameEngine"],[37,18,22,23],[37,19,22,24],[38,4,24,10,"lastTime"],[38,12,24,18],[38,15,24,29],[38,16,24,30],[39,4,25,10,"accumulator"],[39,15,25,21],[39,18,25,32],[39,19,25,33],[40,4,26,10,"animationFrameId"],[40,20,26,26],[40,23,26,44],[40,27,26,48],[41,4,27,10,"running"],[41,11,27,17],[41,14,27,29],[41,19,27,34],[42,4,30,9,"pickups"],[42,11,30,16],[42,14,30,29],[42,16,30,31],[43,4,31,9,"hazards"],[43,11,31,16],[43,14,31,29],[43,16,31,31],[44,4,32,9,"cameraY"],[44,11,32,16],[44,14,32,27],[44,15,32,28],[46,4,34,2],[47,4,35,10,"lastPulseTime"],[47,17,35,23],[47,20,35,34],[47,21,35,35],[48,4,37,2,"constructor"],[48,15,37,13,"constructor"],[48,16,37,14,"config"],[48,22,37,41],[48,25,37,44],[48,26,37,45],[48,27,37,46],[48,29,37,48],[49,6,38,4],[49,10,38,8],[49,11,38,9,"config"],[49,17,38,15],[49,20,38,18],[50,8,38,20],[50,11,38,23,"DEFAULT_CONFIG"],[50,25,38,37],[51,8,38,39],[51,11,38,42,"config"],[52,6,38,49],[52,7,38,50],[53,6,39,4],[53,10,39,8],[53,11,39,9,"player"],[53,17,39,15],[53,20,39,18],[53,24,39,18,"createPlayer"],[53,38,39,30],[53,39,39,30,"createPlayer"],[53,51,39,30],[53,53,39,31],[53,57,39,35],[53,58,39,36,"config"],[53,64,39,42],[53,65,39,43],[54,4,40,2],[55,4,42,2,"start"],[55,9,42,7,"start"],[55,10,42,7],[55,12,42,10],[56,6,43,4],[56,10,43,8],[56,11,43,9,"running"],[56,18,43,16],[56,21,43,19],[56,25,43,23],[57,6,44,4],[57,10,44,8],[57,11,44,9,"lastTime"],[57,19,44,17],[57,22,44,20,"performance"],[57,33,44,31],[57,34,44,32,"now"],[57,37,44,35],[57,38,44,36],[57,39,44,37],[58,6,45,4],[58,10,45,8],[58,11,45,9,"accumulator"],[58,22,45,20],[58,25,45,23],[58,26,45,24],[59,6,46,4],[59,10,46,8],[59,11,46,9,"player"],[59,17,46,15],[59,20,46,18],[59,24,46,18,"createPlayer"],[59,38,46,30],[59,39,46,30,"createPlayer"],[59,51,46,30],[59,53,46,31],[59,57,46,35],[59,58,46,36,"config"],[59,64,46,42],[59,65,46,43],[60,6,47,4],[60,10,47,8],[60,11,47,9,"pickups"],[60,18,47,16],[60,21,47,19],[60,23,47,21],[61,6,48,4],[61,10,48,8],[61,11,48,9,"hazards"],[61,18,48,16],[61,21,48,19],[61,23,48,21],[62,6,49,4],[62,10,49,8],[62,11,49,9,"cameraY"],[62,18,49,16],[62,21,49,19],[62,22,49,20],[63,6,50,4],[63,10,50,8],[63,11,50,9,"lastPulseTime"],[63,24,50,22],[63,27,50,25],[63,28,50,26],[64,6,51,4],[64,10,51,8],[64,11,51,9,"loop"],[64,15,51,13],[64,16,51,14],[64,17,51,15],[65,4,52,2],[66,4,54,2,"stop"],[66,8,54,6,"stop"],[66,9,54,6],[66,11,54,9],[67,6,55,4],[67,10,55,8],[67,11,55,9,"running"],[67,18,55,16],[67,21,55,19],[67,26,55,24],[68,6,56,4],[68,10,56,8],[68,14,56,12],[68,15,56,13,"animationFrameId"],[68,31,56,29],[68,33,56,31],[69,8,57,6,"cancelAnimationFrame"],[69,28,57,26],[69,29,57,27],[69,33,57,31],[69,34,57,32,"animationFrameId"],[69,50,57,48],[69,51,57,49],[70,8,58,6],[70,12,58,10],[70,13,58,11,"animationFrameId"],[70,29,58,27],[70,32,58,30],[70,36,58,34],[71,6,59,4],[72,4,60,2],[73,4,62,2,"pause"],[73,9,62,7,"pause"],[73,10,62,7],[73,12,62,10],[74,6,63,4],[74,10,63,8],[74,11,63,9,"running"],[74,18,63,16],[74,21,63,19],[74,26,63,24],[75,4,64,2],[76,4,66,2,"resume"],[76,10,66,8,"resume"],[76,11,66,8],[76,13,66,11],[77,6,67,4],[77,10,67,8],[77,11,67,9,"running"],[77,18,67,16],[77,21,67,19],[77,25,67,23],[78,6,68,4],[78,10,68,8],[78,11,68,9,"lastTime"],[78,19,68,17],[78,22,68,20,"performance"],[78,33,68,31],[78,34,68,32,"now"],[78,37,68,35],[78,38,68,36],[78,39,68,37],[79,6,69,4],[79,10,69,8],[79,11,69,9,"loop"],[79,15,69,13],[79,16,69,14],[79,17,69,15],[80,4,70,2],[81,4,72,10,"loop"],[81,8,72,14],[81,11,72,17,"loop"],[81,12,72,17],[81,17,72,23],[82,6,73,4],[82,10,73,8],[82,11,73,9],[82,15,73,13],[82,16,73,14,"running"],[82,23,73,21],[82,25,73,23],[83,6,75,4],[83,12,75,10,"currentTime"],[83,23,75,21],[83,26,75,24,"performance"],[83,37,75,35],[83,38,75,36,"now"],[83,41,75,39],[83,42,75,40],[83,43,75,41],[84,6,76,4],[84,12,76,10,"deltaTime"],[84,21,76,19],[84,24,76,22,"currentTime"],[84,35,76,33],[84,38,76,36],[84,42,76,40],[84,43,76,41,"lastTime"],[84,51,76,49],[85,6,77,4],[85,10,77,8],[85,11,77,9,"lastTime"],[85,19,77,17],[85,22,77,20,"currentTime"],[85,33,77,31],[86,6,79,4],[86,10,79,8],[86,11,79,9,"accumulator"],[86,22,79,20],[86,26,79,24,"deltaTime"],[86,35,79,33],[87,6,81,4],[87,12,81,10,"store"],[87,17,81,15],[87,20,81,18,"useGameStore"],[87,26,81,30],[87,27,81,30,"useGameStore"],[87,39,81,30],[87,40,81,31,"getState"],[87,48,81,39],[87,49,81,40],[87,50,81,41],[89,6,83,4],[90,6,84,4],[90,13,84,11],[90,17,84,15],[90,18,84,16,"accumulator"],[90,29,84,27],[90,33,84,31],[90,37,84,35],[90,38,84,36,"config"],[90,44,84,42],[90,45,84,43,"fixedDeltaTime"],[90,59,84,57],[90,61,84,59],[91,8,85,6],[91,12,85,10,"store"],[91,17,85,15],[91,18,85,16,"phase"],[91,23,85,21],[91,28,85,26],[91,37,85,35],[91,39,85,37],[92,10,86,8],[92,14,86,12],[92,15,86,13,"fixedUpdate"],[92,26,86,24],[92,27,86,25],[92,31,86,29],[92,32,86,30,"config"],[92,38,86,36],[92,39,86,37,"fixedDeltaTime"],[92,53,86,51],[92,56,86,54],[92,60,86,58],[92,61,86,59],[93,8,87,6],[94,8,88,6],[94,12,88,10],[94,13,88,11,"accumulator"],[94,24,88,22],[94,28,88,26],[94,32,88,30],[94,33,88,31,"config"],[94,39,88,37],[94,40,88,38,"fixedDeltaTime"],[94,54,88,52],[95,6,89,4],[96,6,91,4],[96,10,91,8],[96,11,91,9,"animationFrameId"],[96,27,91,25],[96,30,91,28,"requestAnimationFrame"],[96,51,91,49],[96,52,91,50],[96,56,91,54],[96,57,91,55,"loop"],[96,61,91,59],[96,62,91,60],[97,4,92,2],[97,5,92,3],[98,4,94,10,"fixedUpdate"],[98,15,94,21,"fixedUpdate"],[98,16,94,22,"dt"],[98,18,94,32],[98,20,94,34],[99,6,95,4],[99,12,95,10,"store"],[99,17,95,15],[99,20,95,18,"useGameStore"],[99,26,95,30],[99,27,95,30,"useGameStore"],[99,39,95,30],[99,40,95,31,"getState"],[99,48,95,39],[99,49,95,40],[99,50,95,41],[101,6,97,4],[102,6,98,4],[102,12,98,10,"newTimer"],[102,20,98,18],[102,23,98,21,"store"],[102,28,98,26],[102,29,98,27,"timer"],[102,34,98,32],[102,37,98,35,"dt"],[102,39,98,37],[103,6,99,4],[103,10,99,8,"newTimer"],[103,18,99,16],[103,22,99,20],[103,23,99,21],[103,25,99,23],[104,8,100,6,"store"],[104,13,100,11],[104,14,100,12,"setPhase"],[104,22,100,20],[104,23,100,21],[104,30,100,28],[104,31,100,29],[105,8,101,6,"store"],[105,13,101,11],[105,14,101,12,"endRun"],[105,20,101,18],[105,21,101,19],[105,22,101,20],[105,23,101,21],[105,24,101,22],[106,8,102,6],[106,12,102,10],[106,13,102,11,"stop"],[106,17,102,15],[106,18,102,16],[106,19,102,17],[107,8,103,6],[108,6,104,4],[109,6,105,4,"store"],[109,11,105,9],[109,12,105,10,"setTimer"],[109,20,105,18],[109,21,105,19,"newTimer"],[109,29,105,27],[109,30,105,28],[111,6,107,4],[112,6,108,4],[112,12,108,10,"elapsed"],[112,19,108,17],[112,22,108,20,"store"],[112,27,108,25],[112,28,108,26,"maxTime"],[112,35,108,33],[112,38,108,36,"newTimer"],[112,46,108,44],[113,6,109,4],[113,12,109,10,"newDifficulty"],[113,25,109,23],[113,28,109,26],[113,29,109,27],[113,32,109,31,"elapsed"],[113,39,109,38],[113,42,109,41,"store"],[113,47,109,46],[113,48,109,47,"maxTime"],[113,55,109,54],[113,58,109,58],[113,59,109,59],[114,6,110,4,"store"],[114,11,110,9],[114,12,110,10,"setDifficulty"],[114,25,110,23],[114,26,110,24,"newDifficulty"],[114,39,110,37],[114,40,110,38],[116,6,112,4],[117,6,113,4],[117,10,113,8,"elapsed"],[117,17,113,15],[117,20,113,18,"store"],[117,25,113,23],[117,26,113,24,"lastUpgradeTime"],[117,41,113,39],[117,45,113,43,"store"],[117,50,113,48],[117,51,113,49,"upgradeInterval"],[117,66,113,64],[117,68,113,66],[118,8,114,6,"store"],[118,13,114,11],[118,14,114,12,"triggerUpgradeChoice"],[118,34,114,32],[118,35,114,33],[118,36,114,34],[119,8,115,6],[119,15,115,13],[119,16,115,14],[120,6,116,4],[122,6,118,4],[123,6,119,4],[123,10,119,8],[123,14,119,12],[123,15,119,13,"player"],[123,21,119,19],[123,22,119,20,"hp"],[123,24,119,22],[123,29,119,27],[123,30,119,28],[123,32,119,30],[124,8,120,6,"store"],[124,13,120,11],[124,14,120,12,"addLowHpTime"],[124,26,120,24],[124,27,120,25,"dt"],[124,29,120,27],[124,30,120,28],[125,6,121,4],[127,6,123,4],[128,6,124,4],[128,10,124,4,"updatePlayer"],[128,24,124,16],[128,25,124,16,"updatePlayer"],[128,37,124,16],[128,39,124,17],[128,43,124,21],[128,44,124,22,"player"],[128,50,124,28],[128,52,124,30,"dt"],[128,54,124,32],[128,56,124,34],[128,60,124,38],[128,61,124,39,"config"],[128,67,124,45],[128,68,124,46],[130,6,126,4],[131,6,127,4],[131,10,127,8],[131,11,127,9,"cameraY"],[131,18,127,16],[131,21,127,19,"Math"],[131,25,127,23],[131,26,127,24,"max"],[131,29,127,27],[131,30,127,28],[131,31,127,29],[131,33,127,31],[131,37,127,35],[131,38,127,36,"player"],[131,44,127,42],[131,45,127,43,"position"],[131,53,127,51],[131,54,127,52,"y"],[131,55,127,53],[131,58,127,56],[131,62,127,60],[131,63,127,61,"config"],[131,69,127,67],[131,70,127,68,"screenHeight"],[131,82,127,80],[131,85,127,83],[131,86,127,84],[131,87,127,85],[133,6,129,4],[134,6,130,4],[134,10,130,8,"Math"],[134,14,130,12],[134,15,130,13,"random"],[134,21,130,19],[134,22,130,20],[134,23,130,21],[134,26,130,24],[134,31,130,29],[134,34,130,32,"store"],[134,39,130,37],[134,40,130,38,"difficulty"],[134,50,130,48],[134,52,130,50],[135,8,131,6],[135,14,131,12,"pickup"],[135,20,131,18],[135,23,131,21],[135,27,131,21,"spawnPickup"],[135,42,131,32],[135,43,131,32,"spawnPickup"],[135,54,131,32],[135,56,131,33],[135,60,131,37],[135,61,131,38,"player"],[135,67,131,44],[135,68,131,45,"position"],[135,76,131,53],[135,77,131,54,"y"],[135,78,131,55],[135,80,131,57],[135,84,131,61],[135,85,131,62,"config"],[135,91,131,68],[135,93,131,70,"store"],[135,98,131,75],[135,99,131,76,"difficulty"],[135,109,131,86],[135,110,131,87],[136,8,132,6],[136,12,132,10],[136,13,132,11,"pickups"],[136,20,132,18],[136,21,132,19,"push"],[136,25,132,23],[136,26,132,24,"pickup"],[136,32,132,30],[136,33,132,31],[137,6,133,4],[139,6,135,4],[140,6,136,4],[140,12,136,10,"newHazards"],[140,22,136,20],[140,25,136,23],[140,29,136,23,"spawnHazards"],[140,44,136,35],[140,45,136,35,"spawnHazards"],[140,57,136,35],[140,59,136,36],[140,63,136,40],[140,64,136,41,"player"],[140,70,136,47],[140,71,136,48,"position"],[140,79,136,56],[140,80,136,57,"y"],[140,81,136,58],[140,83,136,60],[140,87,136,64],[140,88,136,65,"config"],[140,94,136,71],[140,96,136,73,"store"],[140,101,136,78],[140,102,136,79,"difficulty"],[140,112,136,89],[140,114,136,91,"elapsed"],[140,121,136,98],[140,122,136,99],[141,6,137,4],[141,10,137,8],[141,11,137,9,"hazards"],[141,18,137,16],[141,19,137,17,"push"],[141,23,137,21],[141,24,137,22],[141,27,137,25,"newHazards"],[141,37,137,35],[141,38,137,36],[143,6,139,4],[144,6,140,4],[144,10,140,4,"updatePickups"],[144,25,140,17],[144,26,140,17,"updatePickups"],[144,39,140,17],[144,41,140,18],[144,45,140,22],[144,46,140,23,"pickups"],[144,53,140,30],[144,55,140,32],[144,59,140,36],[144,60,140,37,"player"],[144,66,140,43],[144,68,140,45,"dt"],[144,70,140,47],[144,71,140,48],[146,6,142,4],[147,6,143,4],[147,10,143,4,"updateHazards"],[147,25,143,17],[147,26,143,17,"updateHazards"],[147,39,143,17],[147,41,143,18],[147,45,143,22],[147,46,143,23,"hazards"],[147,53,143,30],[147,55,143,32],[147,59,143,36],[147,60,143,37,"player"],[147,66,143,43],[147,68,143,45,"dt"],[147,70,143,47],[147,71,143,48],[149,6,145,4],[150,6,146,4],[150,10,146,4,"checkPickupCollisions"],[150,25,146,25],[150,26,146,25,"checkPickupCollisions"],[150,47,146,25],[150,49,146,26],[150,53,146,30],[150,54,146,31,"pickups"],[150,61,146,38],[150,63,146,40],[150,67,146,44],[150,68,146,45,"player"],[150,74,146,51],[150,76,146,53,"store"],[150,81,146,58],[150,82,146,59],[151,6,147,4],[151,12,147,10,"collisionResult"],[151,27,147,25],[151,30,147,28],[151,34,147,28,"checkHazardCollisions"],[151,49,147,49],[151,50,147,49,"checkHazardCollisions"],[151,71,147,49],[151,73,147,50],[151,77,147,54],[151,78,147,55,"hazards"],[151,85,147,62],[151,87,147,64],[151,91,147,68],[151,92,147,69,"player"],[151,98,147,75],[151,100,147,77,"store"],[151,105,147,82],[151,106,147,83],[153,6,149,4],[154,6,150,4],[154,10,150,8,"collisionResult"],[154,25,150,23],[154,26,150,24,"nearMisses"],[154,36,150,34],[154,39,150,37],[154,40,150,38],[154,42,150,40],[155,8,151,6],[155,13,151,11],[155,17,151,15,"i"],[155,18,151,16],[155,21,151,19],[155,22,151,20],[155,24,151,22,"i"],[155,25,151,23],[155,28,151,26,"collisionResult"],[155,43,151,41],[155,44,151,42,"nearMisses"],[155,54,151,52],[155,56,151,54,"i"],[155,57,151,55],[155,59,151,57],[155,61,151,59],[156,10,152,8,"store"],[156,15,152,13],[156,16,152,14,"addNearMiss"],[156,27,152,25],[156,28,152,26],[156,29,152,27],[157,8,153,6],[158,6,154,4],[159,6,155,4],[159,10,155,8,"collisionResult"],[159,25,155,23],[159,26,155,24,"phaseThroughs"],[159,39,155,37],[159,42,155,40],[159,43,155,41],[159,45,155,43],[160,8,156,6],[160,13,156,11],[160,17,156,15,"i"],[160,18,156,16],[160,21,156,19],[160,22,156,20],[160,24,156,22,"i"],[160,25,156,23],[160,28,156,26,"collisionResult"],[160,43,156,41],[160,44,156,42,"phaseThroughs"],[160,57,156,55],[160,59,156,57,"i"],[160,60,156,58],[160,62,156,60],[160,64,156,62],[161,10,157,8,"store"],[161,15,157,13],[161,16,157,14,"addPhaseThrough"],[161,31,157,29],[161,32,157,30],[161,33,157,31],[162,8,158,6],[163,6,159,4],[165,6,161,4],[166,6,162,4],[166,12,162,10,"cleanupThreshold"],[166,28,162,26],[166,31,162,29],[166,35,162,33],[166,36,162,34,"player"],[166,42,162,40],[166,43,162,41,"position"],[166,51,162,49],[166,52,162,50,"y"],[166,53,162,51],[166,56,162,54],[166,60,162,58],[166,61,162,59,"config"],[166,67,162,65],[166,68,162,66,"screenHeight"],[166,80,162,78],[167,6,163,4],[167,10,163,8],[167,11,163,9,"pickups"],[167,18,163,16],[167,21,163,19],[167,25,163,23],[167,26,163,24,"pickups"],[167,33,163,31],[167,34,163,32,"filter"],[167,40,163,38],[167,41,163,39,"p"],[167,42,163,40],[167,46,163,44,"p"],[167,47,163,45],[167,48,163,46,"position"],[167,56,163,54],[167,57,163,55,"y"],[167,58,163,56],[167,61,163,59,"cleanupThreshold"],[167,77,163,75],[167,81,163,79,"p"],[167,82,163,80],[167,83,163,81,"active"],[167,89,163,87],[167,90,163,88],[168,6,164,4],[168,10,164,8],[168,11,164,9,"hazards"],[168,18,164,16],[168,21,164,19],[168,25,164,23],[168,26,164,24,"hazards"],[168,33,164,31],[168,34,164,32,"filter"],[168,40,164,38],[168,41,164,39,"h"],[168,42,164,40],[168,46,164,44,"h"],[168,47,164,45],[168,48,164,46,"position"],[168,56,164,54],[168,57,164,55,"y"],[168,58,164,56],[168,61,164,59,"cleanupThreshold"],[168,77,164,75],[168,81,164,79,"h"],[168,82,164,80],[168,83,164,81,"active"],[168,89,164,87],[168,90,164,88],[170,6,166,4],[171,6,167,4,"store"],[171,11,167,9],[171,12,167,10,"addDistance"],[171,23,167,21],[171,24,167,22],[171,28,167,26],[171,29,167,27,"player"],[171,35,167,33],[171,36,167,34,"velocity"],[171,44,167,42],[171,45,167,43,"y"],[171,46,167,44],[171,49,167,47,"dt"],[171,51,167,49],[171,52,167,50],[172,4,168,2],[173,4,170,2,"handleTouchStart"],[173,20,170,18,"handleTouchStart"],[173,21,170,18],[173,23,170,21],[174,6,171,4],[174,12,171,10,"store"],[174,17,171,15],[174,20,171,18,"useGameStore"],[174,26,171,30],[174,27,171,30,"useGameStore"],[174,39,171,30],[174,40,171,31,"getState"],[174,48,171,39],[174,49,171,40],[174,50,171,41],[175,6,172,4],[175,10,172,8,"store"],[175,15,172,13],[175,16,172,14,"phase"],[175,21,172,19],[175,26,172,24],[175,35,172,33],[175,37,172,35],[176,6,173,4],[176,10,173,8],[176,11,173,9,"player"],[176,17,173,15],[176,18,173,16,"isCharging"],[176,28,173,26],[176,31,173,29],[176,35,173,33],[177,4,174,2],[178,4,176,2,"handleTouchEnd"],[178,18,176,16,"handleTouchEnd"],[178,19,176,16],[178,21,176,19],[179,6,177,4],[179,12,177,10,"store"],[179,17,177,15],[179,20,177,18,"useGameStore"],[179,26,177,30],[179,27,177,30,"useGameStore"],[179,39,177,30],[179,40,177,31,"getState"],[179,48,177,39],[179,49,177,40],[179,50,177,41],[180,6,178,4],[180,10,178,8,"store"],[180,15,178,13],[180,16,178,14,"phase"],[180,21,178,19],[180,26,178,24],[180,35,178,33],[180,37,178,35],[181,6,180,4],[181,10,180,8],[181,14,180,12],[181,15,180,13,"player"],[181,21,180,19],[181,22,180,20,"charge"],[181,28,180,26],[181,31,180,29],[181,34,180,32],[181,36,180,34],[182,8,181,6],[182,12,181,10],[182,13,181,11,"pulse"],[182,18,181,16],[182,19,181,17],[182,20,181,18],[183,6,182,4],[184,6,183,4],[184,10,183,8],[184,11,183,9,"player"],[184,17,183,15],[184,18,183,16,"isCharging"],[184,28,183,26],[184,31,183,29],[184,36,183,34],[185,6,184,4],[185,10,184,8],[185,11,184,9,"player"],[185,17,184,15],[185,18,184,16,"charge"],[185,24,184,22],[185,27,184,25],[185,28,184,26],[186,4,185,2],[187,4,187,10,"pulse"],[187,9,187,15,"pulse"],[187,10,187,15],[187,12,187,18],[188,6,188,4],[188,12,188,10,"store"],[188,17,188,15],[188,20,188,18,"useGameStore"],[188,26,188,30],[188,27,188,30,"useGameStore"],[188,39,188,30],[188,40,188,31,"getState"],[188,48,188,39],[188,49,188,40],[188,50,188,41],[189,6,189,4],[189,12,189,10,"chargeRatio"],[189,23,189,21],[189,26,189,24],[189,30,189,28],[189,31,189,29,"player"],[189,37,189,35],[189,38,189,36,"charge"],[189,44,189,42],[189,47,189,45],[189,51,189,49],[189,52,189,50,"player"],[189,58,189,56],[189,59,189,57,"maxCharge"],[189,68,189,66],[190,6,190,4],[190,12,190,10,"currentTime"],[190,23,190,21],[190,26,190,24,"performance"],[190,37,190,35],[190,38,190,36,"now"],[190,41,190,39],[190,42,190,40],[190,43,190,41],[190,46,190,44],[190,50,190,48],[192,6,192,4],[193,6,193,4],[193,10,193,8],[193,14,193,12],[193,15,193,13,"lastPulseTime"],[193,28,193,26],[193,31,193,29],[193,32,193,30],[193,34,193,32],[194,8,194,6],[194,14,194,12,"timeSinceLastPulse"],[194,32,194,30],[194,35,194,33,"currentTime"],[194,46,194,44],[194,49,194,47],[194,53,194,51],[194,54,194,52,"lastPulseTime"],[194,67,194,65],[195,8,195,6],[195,14,195,12,"isGoodRhythm"],[195,26,195,24],[195,29,195,27,"timeSinceLastPulse"],[195,47,195,45],[195,51,195,49,"RHYTHM_WINDOW_MIN"],[195,68,195,66],[195,72,196,26,"timeSinceLastPulse"],[195,90,196,44],[195,94,196,48,"RHYTHM_WINDOW_MAX"],[195,111,196,65],[196,8,197,6,"store"],[196,13,197,11],[196,14,197,12,"updateRhythmStreak"],[196,32,197,30],[196,33,197,31,"isGoodRhythm"],[196,45,197,43],[196,46,197,44],[197,6,198,4],[198,6,199,4],[198,10,199,8],[198,11,199,9,"lastPulseTime"],[198,24,199,22],[198,27,199,25,"currentTime"],[198,38,199,36],[200,6,201,4],[201,6,202,4],[201,10,202,8],[201,11,202,9,"player"],[201,17,202,15],[201,18,202,16,"velocity"],[201,26,202,24],[201,27,202,25,"y"],[201,28,202,26],[201,32,202,30],[201,36,202,34],[201,37,202,35,"player"],[201,43,202,41],[201,44,202,42,"dashPower"],[201,53,202,51],[201,56,202,54,"chargeRatio"],[201,67,202,65],[203,6,204,4],[204,6,205,4],[204,10,205,8],[204,11,205,9,"player"],[204,17,205,15],[204,18,205,16,"phaseActive"],[204,29,205,27],[204,32,205,30],[204,36,205,34],[205,6,206,4],[205,10,206,8],[205,11,206,9,"player"],[205,17,206,15],[205,18,206,16,"phaseTimer"],[205,28,206,26],[205,31,206,29],[205,35,206,33],[205,36,206,34,"player"],[205,42,206,40],[205,43,206,41,"phaseDuration"],[205,56,206,54],[207,6,208,4],[208,6,209,4],[208,10,209,8],[208,11,209,9,"pickups"],[208,18,209,16],[208,19,209,17,"forEach"],[208,26,209,24],[208,27,209,25,"pickup"],[208,33,209,31],[208,37,209,35],[209,8,210,6],[209,14,210,12,"dx"],[209,16,210,14],[209,19,210,17,"pickup"],[209,25,210,23],[209,26,210,24,"position"],[209,34,210,32],[209,35,210,33,"x"],[209,36,210,34],[209,39,210,37],[209,43,210,41],[209,44,210,42,"player"],[209,50,210,48],[209,51,210,49,"position"],[209,59,210,57],[209,60,210,58,"x"],[209,61,210,59],[210,8,211,6],[210,14,211,12,"dy"],[210,16,211,14],[210,19,211,17,"pickup"],[210,25,211,23],[210,26,211,24,"position"],[210,34,211,32],[210,35,211,33,"y"],[210,36,211,34],[210,39,211,37],[210,43,211,41],[210,44,211,42,"player"],[210,50,211,48],[210,51,211,49,"position"],[210,59,211,57],[210,60,211,58,"y"],[210,61,211,59],[211,8,212,6],[211,14,212,12,"dist"],[211,18,212,16],[211,21,212,19,"Math"],[211,25,212,23],[211,26,212,24,"sqrt"],[211,30,212,28],[211,31,212,29,"dx"],[211,33,212,31],[211,36,212,34,"dx"],[211,38,212,36],[211,41,212,39,"dy"],[211,43,212,41],[211,46,212,44,"dy"],[211,48,212,46],[211,49,212,47],[212,8,213,6],[212,12,213,10,"dist"],[212,16,213,14],[212,19,213,17],[212,23,213,21],[212,24,213,22,"player"],[212,30,213,28],[212,31,213,29,"magnetRange"],[212,42,213,40],[212,45,213,43,"chargeRatio"],[212,56,213,54],[212,58,213,56],[213,10,214,8,"pickup"],[213,16,214,14],[213,17,214,15,"magnetized"],[213,27,214,25],[213,30,214,28],[213,34,214,32],[214,8,215,6],[215,6,216,4],[215,7,216,5],[215,8,216,6],[217,6,218,4],[218,6,219,4],[218,10,219,8,"chargeRatio"],[218,21,219,19],[218,24,219,22],[218,27,219,25],[218,29,219,27],[219,8,220,6,"store"],[219,13,220,11],[219,14,220,12,"addPerfectPulse"],[219,29,220,27],[219,30,220,28],[219,31,220,29],[220,8,221,6,"store"],[220,13,221,11],[220,14,221,12,"addScore"],[220,22,221,20],[220,23,221,21],[220,25,221,23],[220,29,221,27,"store"],[220,34,221,32],[220,35,221,33,"multiplier"],[220,45,221,43],[220,49,221,47],[220,50,221,48],[220,51,221,49],[220,52,221,50],[221,6,222,4],[223,6,224,4],[224,6,225,4],[224,10,225,8],[224,11,225,9,"player"],[224,17,225,15],[224,18,225,16,"heat"],[224,22,225,20],[224,25,225,23,"Math"],[224,29,225,27],[224,30,225,28,"min"],[224,33,225,31],[224,34,225,32],[224,35,225,33],[224,37,225,35],[224,41,225,39],[224,42,225,40,"player"],[224,48,225,46],[224,49,225,47,"heat"],[224,53,225,51],[224,56,225,54],[224,59,225,57],[224,60,225,58],[226,6,227,4],[227,6,228,4],[227,10,228,8],[227,11,228,9,"player"],[227,17,228,15],[227,18,228,16,"charge"],[227,24,228,22],[227,27,228,25],[227,28,228,26],[228,4,229,2],[229,4,231,2,"getConfig"],[229,13,231,11,"getConfig"],[229,14,231,11],[229,16,231,14],[230,6,232,4],[230,13,232,11],[230,17,232,15],[230,18,232,16,"config"],[230,24,232,22],[231,4,233,2],[232,2,234,0],[233,0,234,1],[233,3]],"functionMap":{"names":["<global>","GameEngine","GameEngine#constructor","GameEngine#start","GameEngine#stop","GameEngine#pause","GameEngine#resume","GameEngine#loop","GameEngine#fixedUpdate","pickups.filter$argument_0","hazards.filter$argument_0","GameEngine#handleTouchStart","GameEngine#handleTouchEnd","GameEngine#pulse","pickups.forEach$argument_0","GameEngine#getConfig"],"mappings":"AAA;OCqB;ECe;GDG;EEE;GFU;EGE;GHM;EIE;GJE;EKE;GLI;iBME;GNoB;EOE;uCCqE,gDD;uCEC,gDF;GPI;EUE;GVI;EWE;GXS;EYE;yBCsB;KDO;GZa;EcE;GdE;CDC"},"hasCjsExports":false},"type":"js/module"}]}